{"version":3,"file":"js/app.3cb420fa.js","mappings":"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","sources":["webpack://sun-motion-visualization/./src/App.vue","webpack://sun-motion-visualization/./src/smv_modules/Utilities.js","webpack://sun-motion-visualization/./src/smv_modules/AppConstants.js","webpack://sun-motion-visualization/./src/smv_modules/GeoMath.js","webpack://sun-motion-visualization/./src/smv_modules/ObjectGenerators.js","webpack://sun-motion-visualization/./src/smv_modules/DragControls.js","webpack://sun-motion-visualization/./src/smv_modules/Animations.js","webpack://sun-motion-visualization/./src/smv_modules/SceneControl.js","webpack://sun-motion-visualization/./src/smv_modules/AppSetup.js","webpack://sun-motion-visualization/./src/smv_modules/UIHelpers.js","webpack://sun-motion-visualization/./src/components/CompassWord.vue","webpack://sun-motion-visualization/./src/components/CompassWord.vue?c8dc","webpack://sun-motion-visualization/./src/App.vue?7ccd","webpack://sun-motion-visualization/./src/main.js","webpack://sun-motion-visualization/webpack/bootstrap","webpack://sun-motion-visualization/webpack/runtime/chunk loaded","webpack://sun-motion-visualization/webpack/runtime/compat get default export","webpack://sun-motion-visualization/webpack/runtime/define property getters","webpack://sun-motion-visualization/webpack/runtime/global","webpack://sun-motion-visualization/webpack/runtime/hasOwnProperty shorthand","webpack://sun-motion-visualization/webpack/runtime/make namespace object","webpack://sun-motion-visualization/webpack/runtime/publicPath","webpack://sun-motion-visualization/webpack/runtime/jsonp chunk loading","webpack://sun-motion-visualization/webpack/startup"],"sourcesContent":["/* eslint-disable no-unused-vars */\n<template>\n  <div>\n    <div\n      class=\"d-flex flex-column div-controls-wrapper\"\n      :class=\"{ 'div-controls-wrapper-folded': isControlsWrapperFolded }\"\n      style=\"z-index: 49\"\n      @dblclick.stop\n    >\n      <label class=\"lbl-common-text lbl-guide\"\n        >Tip :\n        直接双击地球上的点，就可以查看该纬度的太阳视运动了~也可以手动调整纬度前往哦！</label\n      >\n\n      <div class=\"div-common-control-block\">\n        <div\n          class=\"d-flex flex-row justify-content-between\"\n          style=\"margin-bottom: 5px\"\n        >\n          <div>\n            <label class=\"lbl-common-text\">纬度：</label>\n            <label class=\"lbl-data-display\"\n              >{{ Math.abs(latDegFixed1) }}°{{\n                latDegFixed1 > 0 ? \"N\" : latDegFixed1 == 0 ? \"\" : \"S\"\n              }}</label\n            >\n          </div>\n\n          <button class=\"btn btn-outline-light\" @click=\"changeToGroundView\">\n            前往\n          </button>\n        </div>\n        <input\n          class=\"form-range\"\n          type=\"range\"\n          min=\"-90\"\n          max=\"90\"\n          step=\"0.1\"\n          v-model.number=\"latDegFixed1\"\n        />\n\n        <div class=\"d-flex flex-row justify-content-between\">\n          <div class=\"div-adjust\" @click=\"adjLatDegFixed1(0)\">←</div>\n          <div class=\"div-adjust\" @click=\"adjLatDegFixed1(1)\">→</div>\n        </div>\n      </div>\n\n      <transition name=\"tr-ground-view\">\n        <div class=\"d-flex flex-column\" v-if=\"isGroundControlsShow\">\n          <div class=\"div-common-control-block\">\n            <label class=\"lbl-common-text\">太阳直射点纬度：</label>\n            <label class=\"lbl-data-display\"\n              >{{ Math.abs(solarAltituteDeg) }}°{{\n                solarAltituteDeg > 0 ? \"N\" : solarAltituteDeg == 0 ? \"\" : \"S\"\n              }}</label\n            >\n            <input\n              class=\"form-range\"\n              type=\"range\"\n              min=\"-23.5\"\n              max=\"23.5\"\n              step=\"0.1\"\n              v-model.number=\"solarAltituteDeg\"\n            />\n\n            <div class=\"d-flex flex-row justify-content-between\">\n              <div class=\"div-adjust\" @click=\"adjSolarAltituteDeg(0)\">←</div>\n              <div class=\"div-adjust\" @click=\"adjSolarAltituteDeg(1)\">→</div>\n            </div>\n          </div>\n\n          <div class=\"div-common-control-block d-flex flex-column\">\n            <div>\n              <label class=\"lbl-common-text\">当地地方时：</label>\n              <label class=\"lbl-data-display\">{{ localTime }}</label>\n            </div>\n            <input\n              class=\"form-range\"\n              style=\"margin-bottom: 5px\"\n              type=\"range\"\n              min=\"0\"\n              max=\"1439\"\n              step=\"1\"\n              v-model.number=\"timeMinutes\"\n            />\n\n            <div class=\"d-flex flex-row justify-content-between\">\n              <div class=\"div-adjust\" @click=\"adjLocalTime(0)\">←</div>\n              <div class=\"div-adjust\" @click=\"adjLocalTime(1)\">→</div>\n            </div>\n\n            <div style=\"margin: 10px 0\">\n              <label class=\"lbl-common-text\">太阳高度角：</label>\n              <label class=\"lbl-data-display\"\n                >{{ solarAltitudeAngleDeg.toFixed(1) }}°</label\n              >\n            </div>\n            <button class=\"btn btn-outline-light\" @click=\"switchAutoPlay\">\n              {{ windowIntervalHandlerNumber == -1 ? \"启动\" : \"停止\" }}循环播放\n            </button>\n          </div>\n\n          <div\n            class=\"div-common-control-block d-flex flex-column\"\n            style=\"margin-top: 0\"\n          >\n            <button class=\"btn btn-outline-info\" @click=\"switchGroundView\">\n              切换地平面/天球视图\n            </button>\n          </div>\n\n          <div\n            class=\"div-common-control-block d-flex flex-column\"\n            style=\"margin-top: 0\"\n          >\n            <button class=\"btn btn-outline-danger\" @click=\"exitGroundView\">\n              退出视图\n            </button>\n          </div>\n        </div>\n      </transition>\n\n      <div\n        class=\"\n          div-bottom-controls\n          d-flex\n          justify-content-between\n          align-items-center\n        \"\n      >\n        <svg\n          t=\"1668476575929\"\n          class=\"svg-bottom-control\"\n          style=\"z-index: 50\"\n          @click.stop=\"showAbout\"\n          viewBox=\"0 0 1024 1024\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          p-id=\"6202\"\n          width=\"32\"\n          height=\"32\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        >\n          <path\n            d=\"M618 669.9c-89.6 77.4-62.5-58.4-58.4-77.4 4.1-19 62.4-135.8 19.7-155.4-42.8-19.7-174.5 77.4-174.5 77.4s-21.7 15.6-19.7 19.7c14.3 25.1 77.4-19.7 77.4-19.7s21.7-17.6 19.7 0c-19 76.5-32 154.3-38.7 232.8 9.5 51.6 91 29.9 154.8-38.7 63.8-68.5 19.7-38.7 19.7-38.7z m0 0\"\n            p-id=\"6203\"\n          ></path>\n          <path\n            d=\"M566 378c24.2 1.3 47.3-10.4 60.5-30.7 13.2-20.3 14.7-46.1 3.7-67.8-11-21.6-32.6-35.8-56.9-37.1-24.2-1.3-47.3 10.4-60.5 30.7-13.2 20.3-14.7 46.1-3.7 67.8 11 21.6 32.7 35.8 56.9 37.1z m0 0\"\n            p-id=\"6204\"\n          ></path>\n          <path\n            d=\"M884.8 853.9c87.3-93.3 135.9-216.4 135.8-344.2C1020.6 228.5 792.7 0.6 511.5 0.6 230.3 0.6 2.4 228.6 2.4 509.7c0 281.2 227.9 509.1 509.1 509.1h475.2c14.3 0.1 27.1-8.7 32.1-22 5-13.4 1.1-28.4-9.7-37.7L884.8 853.9zM511.5 951C267.8 951 70.2 753.4 70.2 509.7 70.2 266 267.7 68.5 511.4 68.5S952.6 266 952.6 509.7c0.4 122.1-50.3 238.8-139.8 321.8-7.1 7-10.7 16.8-9.9 26.7 0.8 9.9 5.9 19 14 24.9l80.8 67.9H511.5z m0 0\"\n            p-id=\"6205\"\n          ></path>\n        </svg>\n\n        <svg\n          t=\"1668476332112\"\n          class=\"svg-bottom-control\"\n          style=\"z-index: 50\"\n          @click.stop=\"foldControlsWrapper\"\n          viewBox=\"0 0 1024 1024\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          p-id=\"4229\"\n          width=\"32\"\n          height=\"32\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        >\n          <path\n            d=\"M176 513.7l392.73-395.44a32 32 0 0 0-45.41-45.1L108 491.3a32 32 0 0 0 0.16 45.25L523.48 949a32 32 0 1 0 45.1-45.41z\"\n            p-id=\"4230\"\n          ></path>\n          <path\n            d=\"M525.23 513.7L918 118.26a32 32 0 1 0-45.41-45.1L457.27 491.3a32 32 0 0 0 0.16 45.25L872.7 949a32 32 0 0 0 45.1-45.41z\"\n            p-id=\"4231\"\n          ></path>\n        </svg>\n      </div>\n    </div>\n\n    <svg\n      t=\"1668476563071\"\n      v-if=\"isControlsWrapperFolded\"\n      class=\"svg-unfold\"\n      style=\"z-index: 50\"\n      @click.stop=\"unfoldControlsWrapper\"\n      viewBox=\"0 0 1024 1024\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      p-id=\"5207\"\n      width=\"32\"\n      height=\"32\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    >\n      <path\n        d=\"M44.4 245.9h935.2c24.4 0 44.4-20 44.4-44.4s-19.8-44.4-44.4-44.4H44.4C20 157.1 0 177.1 0 201.5s20 44.4 44.4 44.4z m935.2 221.8H44.4C20 467.7 0 487.7 0 512.1s20 44.4 44.4 44.4h935.2c24.4 0 44.4-20 44.4-44.4s-20-44.4-44.4-44.4z m0 310.4H44.4C20 778.1 0 797.8 0 822.5s20 44.4 44.4 44.4h935.2c24.4 0 44.4-19.8 44.4-44.4s-20-44.4-44.4-44.4z\"\n        p-id=\"5208\"\n      ></path>\n    </svg>\n\n    <div\n      class=\"d-flex flex-column align-items-center div-compass-wrapper\"\n      :style=\"{\n        zIndex: 49,\n        transform: `${\n          isMobilePhoneBrowser ? 'scale(0.5) translate(140px,150px)' : ''\n        }`,\n      }\"\n    >\n      <img\n        src=\"./uires/comp_arrow.png\"\n        style=\"width: 30px; height: 30px; margin-bottom: 5px\"\n        draggable=\"false\"\n      />\n\n      <div style=\"position: relative\">\n        <img\n          src=\"./uires/comp.png\"\n          class=\"img-comp\"\n          :style=\"{ transform: 'rotateZ(' + compassRotationRad + 'rad)' }\"\n          draggable=\"false\"\n        />\n\n        <compass-word\n          word=\"北\"\n          textcolor=\"dodgerblue\"\n          :translatedata=\"compassWordTranslates[0]\"\n        ></compass-word>\n        <compass-word\n          word=\"东\"\n          textcolor=\"limegreen\"\n          :translatedata=\"compassWordTranslates[1]\"\n        ></compass-word>\n        <compass-word\n          word=\"南\"\n          textcolor=\"orangered\"\n          :translatedata=\"compassWordTranslates[2]\"\n        ></compass-word>\n        <compass-word\n          word=\"西\"\n          textcolor=\"orange\"\n          :translatedata=\"compassWordTranslates[3]\"\n        ></compass-word>\n\n        <label class=\"lbl-center-info lbl-center-info-u\">{{\n          currentHeadingWord\n        }}</label>\n        <label class=\"lbl-center-info lbl-center-info-l\"\n          >{{ currentHeadingRoundedDeg }}°</label\n        >\n      </div>\n    </div>\n\n    <div v-show=\"isAboutShow\" class=\"div-about-wrapper\" style=\"z-index: 50\">\n      高中地理：太阳视运动可视化 ——献给我的母校山东省实验中学 (版本v3.2.5)<br />\n      软件作者：崔子健(Ernest Cui)<br />\n      作者单位：哈尔滨工业大学计算学部<br />\n      作者联系方式：ecuiships@126.com<br />\n      开发时间：2022.03.04 - 2022.03.08<br />\n      H5版本上线时间：2022.11.14<br />\n      项目简介：基于WebGL的太阳视运动可视化，可在地面或天球3D场景中自由观察太阳视运动轨迹，可选择任意观察纬度、动态调节太阳直射点纬度和地方时。项目使用真实距离比例和理想化数学模型，模拟准确度可满足高中地理教学的需要。\n      <br /><br />\n      本项目以GPL-3.0许可证开源。开源仓库地址：\n      <span>\n        <a\n          href=\"https://github.com/ErnestThePoet/SunMotionVisualization\"\n          @click.stop>Github</a>\n        <a\n          href=\"https://gitee.com/ecui/SunMotionVisualization\"\n          style=\"margin-left: 0.6em\"\n          @click.stop>Gitee</a>\n      </span>\n      <br />\n      <br />\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;高二的一节地理课上，想象不同纬度的太阳视运动让我伤透了脑筋。那时初探计算机世界的我，在下课后有了一个令自己激动不已的想法：要是能做出一个可以实地展现太阳运动轨迹的程序，帮助大家更直观地学习理解太阳的视运动，那该多好！当然，这主要由幻想构成的激动，在半节课后，就随着游走的笔头消逝在试卷之间了。\n      <br />\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;韶华的身影跳跃着。大二的一个傍晚，我完成了Three.js主要内容的自学；这时，我的天使告诉我：你可以回过头去，拾起三年前的小小心愿了。\n      <br />\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;——这便是我开始这个小小工程的一切动机。作为一份小小的礼物，我将它献给我的母校——山东省实验中学，献给我的恩师——孙玉娟老师；我永不会忘却，那些将地理之美呈现给我们、唤起我们对大千世界向往的课堂。<br />\n      <div style=\"text-align: right\">\n        2022年3月8日夜，于哈尔滨工业大学一公寓\n      </div>\n      <br />\n      <br />\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v3.0.0版本后记：深深感谢东校地理教研组长王桂林老师。使用过最初的版本后，王老师抽出宝贵的时间，结合教学实际，详细而耐心地为本项目提出了许多重要的改进建议，极大地完善和改进了这个项目。\n      <br />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { autoPlayIntervalMs } from \"./smv_modules/AppConstants\";\nimport { initWebGLData, setUpWebGL } from \"./smv_modules/AppSetup\";\nimport {\n  toDeg,\n  toRad,\n  calculateCompassWordTranslates,\n} from \"./smv_modules/GeoMath\";\nimport * as SC from \"./smv_modules/SceneControl\";\nimport { getHeadingWord, convertToLocalTime } from \"./smv_modules/UIHelpers\";\nimport * as ANIMATIONS from \"./smv_modules/Animations\";\n\nimport \"../node_modules/bootstrap/dist/css/bootstrap.css\";\n\nimport CompassWord from \"./components/CompassWord.vue\";\nimport { isMobilePhoneBrowser } from \"./smv_modules/Utilities\";\n\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      title: \"太阳视运动可视化\",\n\n      latDegFixed1: 36.7,\n      latRad: 0.6399541,\n\n      solarAltituteDeg: 15,\n      // time of the day in minutes\n      timeMinutes: 510,\n\n      // solar altitude angle\n      solarAltitudeAngleDeg: 0,\n\n      // this includes animation periods\n      isGroundView: false,\n      // this does not include animation periods\n      isGroundControlsShow: false,\n\n      windowIntervalHandlerNumber: -1,\n\n      currentHeadingRad: 0,\n\n      isAboutShow: false,\n\n      isMobilePhoneBrowser: isMobilePhoneBrowser(),\n\n      isControlsWrapperFolded: false,\n    };\n  },\n\n  mounted() {\n    initWebGLData(this);\n    setUpWebGL(this);\n    SC.updateSunPosition(\n      this,\n      this.latRad,\n      this.timeMinutes,\n      this.solarAltituteDeg\n    );\n\n    window.onclick = () => {\n      if (this.isAboutShow) {\n        ANIMATIONS.hideAbout(() => {\n          this.isAboutShow = false;\n        });\n      }\n    };\n  },\n\n  watch: {\n    latDegFixed1(newVal) {\n      this.latRad = toRad(newVal);\n    },\n\n    sunPositionParams(newVal, oldVal) {\n      if (!this.isGroundControlsShow) {\n        return;\n      }\n\n      SC.updateSunPosition(this, newVal[0], newVal[1], newVal[2]);\n\n      if (newVal[0] != oldVal[0] || newVal[2] != oldVal[2]) {\n        SC.updateSunTrackLine(this, newVal[0], newVal[2]);\n      }\n    },\n  },\n\n  computed: {\n    localTime() {\n      return convertToLocalTime(this.timeMinutes);\n    },\n    sunPositionParams() {\n      return [this.latRad, this.timeMinutes, this.solarAltituteDeg];\n    },\n    compassRotationRad() {\n      return -this.currentHeadingRad;\n    },\n    // N E S W\n    compassWordTranslates() {\n      return calculateCompassWordTranslates(this.currentHeadingRad);\n    },\n    currentHeadingRoundedDeg() {\n      let headingRounded = Math.round(toDeg(this.currentHeadingRad));\n      if (headingRounded === 360) {\n        headingRounded = 0;\n      }\n      return headingRounded;\n    },\n    currentHeadingWord() {\n      return getHeadingWord(this.currentHeadingRoundedDeg);\n    },\n  },\n\n  methods: {\n    adjLatDegFixed1(mode) {\n      if (mode == 0) {\n        this.latDegFixed1 = parseFloat(\n          (this.latDegFixed1 - 0.1 < -90\n            ? -90\n            : this.latDegFixed1 - 0.1\n          ).toFixed(1)\n        );\n      } else {\n        this.latDegFixed1 = parseFloat(\n          (this.latDegFixed1 + 0.1 > 90 ? 90 : this.latDegFixed1 + 0.1).toFixed(\n            1\n          )\n        );\n      }\n    },\n    adjSolarAltituteDeg(mode) {\n      if (mode == 0) {\n        this.solarAltituteDeg = parseFloat(\n          (this.solarAltituteDeg - 0.1 < -23.5\n            ? -23.5\n            : this.solarAltituteDeg - 0.1\n          ).toFixed(1)\n        );\n      } else {\n        this.solarAltituteDeg = parseFloat(\n          (this.solarAltituteDeg + 0.1 > 23.5\n            ? 23.5\n            : this.solarAltituteDeg + 0.1\n          ).toFixed(1)\n        );\n      }\n    },\n    adjLocalTime(mode) {\n      if (mode == 0) {\n        this.timeMinutes =\n          this.timeMinutes - 1 < 0 ? 1439 : this.timeMinutes - 1;\n      } else {\n        this.timeMinutes =\n          this.timeMinutes + 1 > 1439 ? 0 : this.timeMinutes + 1;\n      }\n    },\n\n    changeToGroundView() {\n      SC.changeToGroundView(this);\n    },\n    exitGroundView() {\n      SC.exitGroundView(this);\n    },\n    switchGroundView() {\n      SC.switchGroundView(this);\n    },\n\n    switchAutoPlay() {\n      if (!this.isGroundControlsShow) {\n        return;\n      }\n\n      if (this.windowIntervalHandlerNumber == -1) {\n        this.windowIntervalHandlerNumber = window.setInterval(() => {\n          if (this.timeMinutes + 1 > 23 * 60 + 59) {\n            this.timeMinutes = 0;\n          } else {\n            this.timeMinutes++;\n          }\n        }, autoPlayIntervalMs);\n      } else {\n        window.clearInterval(this.windowIntervalHandlerNumber);\n        this.windowIntervalHandlerNumber = -1;\n      }\n    },\n    showAbout() {\n      if (this.isAboutShow) {\n        return;\n      }\n\n      this.isAboutShow = true;\n\n      ANIMATIONS.showAbout();\n    },\n    foldControlsWrapper() {\n      this.isControlsWrapperFolded = true;\n    },\n    unfoldControlsWrapper() {\n      this.isControlsWrapperFolded = false;\n    },\n  },\n  components: {\n    CompassWord,\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@mixin slim-scroll-bar {\n  &::-webkit-scrollbar {\n    width: 5px;\n    height: 5px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgb(145, 145, 145);\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background-color: rgb(160, 160, 160);\n  }\n\n  &::-webkit-scrollbar-thumb:active {\n    background-color: rgb(175, 175, 175);\n  }\n\n  &::-webkit-scrollbar-track {\n    background-color: rgba(220, 220, 220, 0.2);\n    border-radius: 3px;\n  }\n}\n\n.div-controls-wrapper {\n  position: absolute;\n  left: 0;\n  top: 0;\n\n  height: 100vh;\n  width: 250px;\n\n  overflow-y: auto;\n\n  background-color: rgba(0, 0, 0, 0.3);\n\n  transition-duration: 300ms;\n\n  @include slim-scroll-bar;\n}\n\n.div-controls-wrapper-folded {\n  transform: translateX(-100%);\n}\n\n.div-adjust {\n  width: 49%;\n  color: white;\n  background-color: rgba(255, 255, 255, 0.3);\n  border-radius: 3px;\n  text-align: center;\n  transition-duration: 200ms;\n}\n\n.div-adjust:hover {\n  background-color: rgba(255, 255, 255, 0.4);\n}\n\n.div-adjust:active {\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.lbl-common-text {\n  color: white;\n  font-size: small;\n}\n\n.lbl-guide {\n  margin: 15px 10px 10px;\n}\n\n.div-common-control-block {\n  margin: 10px 20px 10px;\n  height: fit-content;\n}\n\n.in-lat-deg {\n  height: 100%;\n  background-color: transparent;\n  color: white;\n  border: 1px solid white;\n  border-radius: 3px;\n  margin-right: 20px;\n}\n\n.lbl-data-display {\n  font-size: 20px;\n  color: white;\n}\n\n.tr-ground-view-enter-active,\n.tr-ground-view-leave-active {\n  transition: opacity 500ms ease;\n}\n\n.tr-ground-view-enter-from,\n.tr-ground-view-leave-to {\n  opacity: 0;\n}\n\n.div-compass-wrapper {\n  position: absolute;\n  bottom: 30px;\n  right: 30px;\n\n  filter: drop-shadow(5px 5px 5px black);\n  opacity: 0;\n}\n\n.img-comp {\n  width: 200px;\n  height: 200px;\n}\n\n.lbl-center-info {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n\n  color: white;\n}\n\n.lbl-center-info-u {\n  font-size: 18px;\n  transform: translate(-50%, -23px);\n}\n\n.lbl-center-info-l {\n  font-size: 15px;\n  transform: translate(-50%, 5px);\n}\n\n.div-bottom-controls {\n  margin: auto 10px 10px;\n}\n\n@mixin svg-hover-color {\n  fill: #ccc;\n  transition: 200ms;\n  transition-timing-function: ease-in-out;\n\n  &:hover {\n    fill: #fff;\n  }\n}\n\n.svg-bottom-control {\n  width: 27px;\n  height: 27px;\n\n  cursor: pointer;\n\n  @include svg-hover-color;\n}\n\n@keyframes svg-unfold-in {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n\n.svg-unfold {\n  // 理论上position应该设为fixed，但在手机微信浏览器上position:fixed的元素位置会随屏幕滑动而微小改变\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n\n  width: 32px;\n  height: 32px;\n\n  cursor: pointer;\n\n  animation-duration: 300ms;\n  animation-name: svg-unfold-in;\n\n  @include svg-hover-color;\n}\n\n.div-about-wrapper {\n  position: fixed;\n\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  width: m#{i}n(768px, 75vw);\n  max-height: 75vh;\n  overflow-y: auto;\n\n  font-size: small;\n  color: white;\n\n  background-color: rgba(0, 0, 0, 0.75);\n\n  opacity: 0;\n\n  padding: 20px;\n\n  @include slim-scroll-bar;\n}\n</style>\n","function isMobilePhoneBrowser() {\r\n    const uaLowerCase = navigator.userAgent.toLowerCase();\r\n    return uaLowerCase.includes(\"android\")\r\n        || uaLowerCase.includes(\"harmony\")\r\n        || uaLowerCase.includes(\"iphone\")\r\n        || uaLowerCase.includes(\"mobile\");\r\n}\r\n\r\nexport { isMobilePhoneBrowser };","import { isMobilePhoneBrowser } from \"./Utilities\"\r\n\r\n// earth model radius corresponding to the value set in 3dmax\r\nconst earthRadius = 100\r\n// camera height above ground in groundView\r\nconst hCamera = 0.05\r\n// Sun Rise/Set line above ground\r\nconst hRiseSetLine = 0.15\r\n// sky sphere radius in skySphereView\r\nconst skySphereRadius = 100\r\n\r\n// distance scale to real calculated sun distance\r\n// set slightly lower for sunlight to avoid flashing\r\nconst sunLightDistanceScale = 0.98\r\nconst sunTrackDistanceScale = 1\r\n\r\n// static file path\r\nconst modelPath = \"./static/\"\r\n\r\n// orthographic camera horizontal size\r\nconst cameraOuterHorizontalSize = isMobilePhoneBrowser()?150:300\r\n\r\n// local time autoplay interval in ms\r\nconst autoPlayIntervalMs = 20\r\n\r\n// ground plane texture repeat count\r\nconst textureRepeatCount = 3000\r\n\r\n// compass size info in px\r\nconst wordCenterCircleRadius = 62\r\nconst divSize = 200\r\nconst labelWidth = 25\r\nconst labelHeight = 35\r\n\r\nexport {\r\n    earthRadius,\r\n    hCamera,\r\n    hRiseSetLine,\r\n    skySphereRadius,\r\n    sunLightDistanceScale,\r\n    sunTrackDistanceScale,\r\n    modelPath,\r\n    cameraOuterHorizontalSize,\r\n    autoPlayIntervalMs,\r\n    textureRepeatCount,\r\n    wordCenterCircleRadius,\r\n    divSize,\r\n    labelWidth,\r\n    labelHeight\r\n}","import {earthRadius, skySphereRadius,wordCenterCircleRadius,divSize,labelWidth,labelHeight} from \"./AppConstants\"\r\n\r\nfunction toDeg(rad) {\r\n    return 180 * rad / Math.PI\r\n}\r\n\r\nfunction toRad(deg) {\r\n    return Math.PI * deg / 180\r\n}\r\n\r\nfunction updateSprites(camera, sprites) {\r\n    const posScales = [\r\n        1.2, 1.2, 1.25, 1.3,\r\n        1.3,\r\n        1.3, 1.25, 1.2, 1.2\r\n    ]\r\n\r\n    for (let i of sprites) {\r\n        let camX = camera.position.x\r\n        let camZ = camera.position.z\r\n\r\n        let z0 = Math.sqrt((earthRadius ** 2 * camX ** 2) / (camX ** 2 + camZ ** 2))\r\n\r\n        let targetX = -Math.cos(i.smvLatRad) * z0 * camZ / camX\r\n        let targetZ = Math.cos(i.smvLatRad) * z0\r\n        let targetY = Math.sin(i.smvLatRad) * earthRadius\r\n\r\n        if (i.smvSide == 0) {\r\n            i.position.x = targetX * posScales[i.smvLatType]\r\n            i.position.y = targetY * posScales[i.smvLatType]\r\n            i.position.z = targetZ * posScales[i.smvLatType]\r\n        }\r\n        else {\r\n            i.position.x = -targetX * posScales[i.smvLatType]\r\n            i.position.y = targetY * posScales[i.smvLatType]\r\n            i.position.z = -targetZ * posScales[i.smvLatType]\r\n        }\r\n    }\r\n}\r\n\r\nfunction calculateSunPosition(latRad, timeMinutes, solarAltituteDeg) {\r\n    const floatEps = 0.0001\r\n    const D = 23.48159662 // original value divided by scale 100000 to ensure precision\r\n    const halfPi = Math.PI / 2\r\n\r\n    let sa = toRad(solarAltituteDeg)\r\n    let d = D * Math.cos(halfPi - sa)\r\n    let l = D * Math.sin(halfPi - sa)\r\n    let cosAngle = Math.cos(Math.PI * timeMinutes / (24 * 30))\r\n\r\n    let x = 0\r\n    let y = 0\r\n    let z = 0\r\n\r\n    // equator\r\n    if (Math.abs(latRad) <= floatEps) {\r\n        x = -l * cosAngle\r\n        y = d\r\n        z = isNoonOrMidnight(timeMinutes) ? 0 : Math.sqrt(l ** 2 - x ** 2)\r\n    }\r\n    // 90N\r\n    else if (Math.abs(latRad - halfPi) <= floatEps) {\r\n        x = d\r\n        y = l * cosAngle\r\n        z = isNoonOrMidnight(timeMinutes) ? 0 : Math.sqrt(l ** 2 - y ** 2)\r\n    }\r\n    // 90S\r\n    else if (Math.abs(latRad + halfPi) <= floatEps) {\r\n        x = -d\r\n        y = -l * cosAngle\r\n        z = isNoonOrMidnight(timeMinutes) ? 0 : Math.sqrt(l ** 2 - y ** 2)\r\n    }\r\n    else {\r\n        let deltaL = 0 - latRad\r\n\r\n        let yc = Math.sqrt((d ** 2) / (Math.tan(deltaL) ** 2 + 1))\r\n        if (solarAltituteDeg < 0) {\r\n            yc = -yc\r\n        }\r\n\r\n        let xc = -Math.tan(deltaL) * yc\r\n\r\n        let xk = -Math.sqrt((l ** 2 * yc ** 2) / (yc ** 2 + xc ** 2)) + xc\r\n        let yk = (xc - xk) * xc / yc + yc\r\n\r\n        let yLeft = yk - yc - yc * (xk - xc) / xc\r\n        let yRight = l ** 2 * cosAngle - yc ** 2 * (xk - xc) / xc + yc * (yk - yc)\r\n\r\n        y = yRight / yLeft\r\n        x = (yc - y) * yc / xc + xc\r\n        z = isNoonOrMidnight(timeMinutes) ? 0 : Math.sqrt(l ** 2 - (x - xc) ** 2 - (y - yc) ** 2)\r\n    }\r\n\r\n    if (timeMinutes < 12 * 60) {\r\n        z = -z\r\n    }\r\n\r\n    const finalScale = skySphereRadius / D\r\n    return [x * finalScale, y * finalScale, z * finalScale]\r\n\r\n}\r\n\r\nfunction calculateSunRiseSetPosition(latRad, solarAltituteDeg) {\r\n    const floatEps = 0.0001\r\n    const D = 23.48159662 // original value divided by scale 100000 to ensure precision\r\n    const halfPi = Math.PI / 2\r\n\r\n    let sa = toRad(solarAltituteDeg)\r\n    let d = D * Math.cos(halfPi - sa)\r\n    let l = D * Math.sin(halfPi - sa)\r\n\r\n    let sunriseY = 0\r\n    let sunriseZ = 0\r\n\r\n    let sunsetY = 0\r\n    let sunsetZ = 0\r\n\r\n    if (Math.abs(latRad - halfPi) > floatEps\r\n        && Math.abs(latRad + halfPi) > floatEps\r\n        && Math.abs(latRad) < Math.abs(Math.PI / 2 - Math.abs(toRad(solarAltituteDeg)))) {\r\n\r\n        let deltaL = 0 - latRad\r\n\r\n        let yc = Math.sqrt((d ** 2) / (Math.tan(deltaL) ** 2 + 1))\r\n        if (solarAltituteDeg < 0) {\r\n            yc = -yc\r\n        }\r\n\r\n        let xc = -Math.tan(deltaL) * yc\r\n\r\n        sunriseY = sunsetY = xc ** 2 / yc + yc\r\n\r\n        sunriseZ = -Math.sqrt(l ** 2 - xc ** 2 - xc ** 4 / yc ** 2)\r\n        sunsetZ = -sunriseZ\r\n\r\n        const finalScale = skySphereRadius / D\r\n\r\n        sunriseY *= finalScale\r\n        sunriseZ *= finalScale\r\n        sunsetY *= finalScale\r\n        sunsetZ *= finalScale\r\n    }\r\n\r\n    return [sunriseY, sunriseZ, sunsetY, sunsetZ]\r\n}\r\n\r\nfunction isNoonOrMidnight(timeMinutes) {\r\n    return timeMinutes == 0 || timeMinutes == 12 * 60\r\n}\r\n\r\nfunction calculateCompassWordTranslates(currentHeadingRad) {\r\n    // all size in px\r\n\r\n    let translates = [\r\n        {\r\n            x: 0,\r\n            y: 0\r\n        },\r\n        {\r\n            x: 0,\r\n            y: 0\r\n        },\r\n        {\r\n            x: 0,\r\n            y: 0\r\n        },\r\n        {\r\n            x: 0,\r\n            y: 0\r\n        },\r\n    ]\r\n\r\n    const rotationOffsetsRad = [0, Math.PI / 2, Math.PI, 3 * Math.PI / 2]\r\n\r\n    for (let i in translates) {\r\n        let targetRotationRad = rotationOffsetsRad[i] - currentHeadingRad\r\n\r\n        let targetTranslateX = wordCenterCircleRadius * Math.sin(targetRotationRad) + divSize / 2\r\n        let targetTranslateY = divSize / 2 - wordCenterCircleRadius * Math.cos(targetRotationRad)\r\n\r\n        targetTranslateX -= labelWidth / 2\r\n        targetTranslateY -= labelHeight / 2\r\n\r\n        translates[i].x = targetTranslateX\r\n        translates[i].y = targetTranslateY\r\n    }\r\n\r\n    return translates\r\n}\r\n\r\nexport {\r\n    toDeg,\r\n    toRad,\r\n    updateSprites,\r\n    calculateSunPosition,\r\n    calculateSunRiseSetPosition,\r\n    calculateCompassWordTranslates\r\n}","import * as THREE from \"three\"\r\n\r\nimport { toRad,calculateSunPosition,calculateSunRiseSetPosition } from \"./GeoMath\"\r\nimport { hRiseSetLine, sunTrackDistanceScale, modelPath } from \"./AppConstants\"\r\n\r\nfunction generateLatLine(earthRadius, latDeg, color, isDashed) {\r\n    const curve = new THREE.EllipseCurve(\r\n        0,\r\n        0,\r\n        earthRadius * Math.cos(toRad(latDeg)) + 0.5,\r\n        earthRadius * Math.cos(toRad(latDeg)) + 0.5,\r\n        0,\r\n        2 * Math.PI,\r\n        false,\r\n        Math.PI / 2\r\n    )\r\n\r\n    const geometry = new THREE.BufferGeometry().setFromPoints(curve.getPoints(100))\r\n\r\n    geometry.rotateX(Math.PI / 2)\r\n    geometry.translate(0, earthRadius * Math.sin(toRad(latDeg)), 0)\r\n\r\n\r\n    let material = undefined\r\n\r\n    if (isDashed) {\r\n        material = new THREE.LineDashedMaterial({ color: color, dashSize: 3, gapSize: 2 })\r\n    }\r\n    else {\r\n        material = new THREE.LineBasicMaterial({ color: color })\r\n    }\r\n\r\n    return new THREE.Line(geometry, material).computeLineDistances()\r\n}\r\n\r\n// side: 0 - left; 1 - right\r\nfunction generateLatSprite(latDeg, latType, textureName, side, scaleXToY) {\r\n    const texture = new THREE.TextureLoader().load(modelPath + textureName)\r\n    const spriteMaterial = new THREE.SpriteMaterial({ map: texture })\r\n    const sprite = new THREE.Sprite(spriteMaterial)\r\n    sprite.scale.set(12 * scaleXToY, 12, 1)\r\n    sprite.smvLatRad = toRad(latDeg)\r\n    sprite.smvLatType = latType\r\n    sprite.smvSide = side\r\n\r\n    return sprite\r\n}\r\n\r\n\r\n// generates a group of line and sprite of\r\n// 0, 30, 60, the tropic of cancer and capricorn and polar circles.\r\nfunction generateLatData(earthRadius) {\r\n    const latGroup = new THREE.Group()\r\n    const spriteGroup = new THREE.Group()\r\n\r\n    const lats = [\r\n        -66.5, -60, -30, -23.5,\r\n        0,\r\n        23.5, 30, 60, 66.5]\r\n\r\n    const latsForSprites = [\r\n        -66.5, -55, -30, -20,\r\n        0,\r\n        20, 30, 55, 66.5]\r\n\r\n    const colors = [\r\n        0x87CEFA, 0xffffff, 0xffffff, 0xFF00FF,\r\n        0xffffff,\r\n        0xFF00FF, 0xffffff, 0xffffff, 0x87CEFA]\r\n\r\n    const isDashed = [\r\n        true, false, false, true,\r\n        false,\r\n        true, false, false, true\r\n    ]\r\n\r\n    const spriteTextureNames = [\r\n        \"pcs.png\", \"60s.png\", \"30s.png\", \"tocs.png\",\r\n        \"equa.png\",\r\n        \"tocn.png\", \"30n.png\", \"60n.png\", \"pcn.png\"\r\n    ]\r\n\r\n    const scaleXToYs = [\r\n        2, 1.75, 1.75, 2.5,\r\n        2,\r\n        2.5, 1.75, 1.75, 2\r\n    ]\r\n\r\n    for (let i in lats) {\r\n        latGroup.add(generateLatLine(earthRadius, lats[i], colors[i], isDashed[i]))\r\n        spriteGroup.add(generateLatSprite(latsForSprites[i], i, spriteTextureNames[i], 0, scaleXToYs[i]))\r\n        spriteGroup.add(generateLatSprite(latsForSprites[i], i, spriteTextureNames[i], 1, scaleXToYs[i]))\r\n    }\r\n\r\n    return new THREE.Group().add(latGroup, spriteGroup)\r\n}\r\n\r\nfunction generateSunTrackLine(latRad, solarAltituteDeg, addRiseSet = false, pointCount = 100, lineColor = 0xffffff) {\r\n\r\n    const points = []\r\n    for (let i = 0; i < pointCount; i++) {\r\n        let timeMinutes = 24 * 60 * i / pointCount\r\n\r\n        const pointPosition = calculateSunPosition(latRad, timeMinutes, solarAltituteDeg)\r\n\r\n        points.push(\r\n            new THREE.Vector3(\r\n                pointPosition[0] * sunTrackDistanceScale,\r\n                pointPosition[1] * sunTrackDistanceScale,\r\n                pointPosition[2] * sunTrackDistanceScale))\r\n    }\r\n\r\n    const geometry = new THREE.BufferGeometry().setFromPoints(points)\r\n    const material = new THREE.LineBasicMaterial({ color: lineColor })\r\n\r\n    const trackLine = new THREE.LineLoop(geometry, material)\r\n\r\n    if (addRiseSet) {\r\n        const riseSetPosition = calculateSunRiseSetPosition(latRad, solarAltituteDeg)\r\n\r\n        const rsGeometry = new THREE.BufferGeometry().setFromPoints([\r\n            new THREE.Vector3(hRiseSetLine, riseSetPosition[0], riseSetPosition[1]),\r\n            new THREE.Vector3(hRiseSetLine, riseSetPosition[2], riseSetPosition[3])\r\n        ])\r\n\r\n        const rsMaterial = new THREE.LineDashedMaterial({ color: 0xff0000, dashSize: 10, gapSize: 5 })\r\n\r\n        trackLine.add(new THREE.Line(rsGeometry, rsMaterial).computeLineDistances())\r\n    }\r\n\r\n    return trackLine\r\n}\r\n\r\nexport{generateLatData,generateSunTrackLine}","class SMVDragControls {\r\n    constructor(camera, domElement) {\r\n\r\n        this.moveScale = 1\r\n\r\n        this.enabled = true\r\n\r\n        this.fovScale = 1\r\n\r\n        this.maxFov = 80\r\n        this.minFov = 50\r\n\r\n        this.onHeadingChange = undefined\r\n\r\n        this._isMouseDown = false\r\n\r\n        domElement.addEventListener(\"wheel\", e => {\r\n            if (!this.enabled) {\r\n                return\r\n            }\r\n\r\n            if (e.deltaY > 0) {\r\n                if (camera.fov + 5 * this.fovScale > this.maxFov) {\r\n                    camera.fov = this.maxFov\r\n                }\r\n                else {\r\n                    camera.fov += 5 * this.fovScale\r\n                }\r\n            }\r\n            else if (e.deltaY < 0) {\r\n                if (camera.fov - 5 * this.fovScale < this.minFov) {\r\n                    camera.fov = this.minFov\r\n                }\r\n                else {\r\n                    camera.fov -= 5 * this.fovScale\r\n                }\r\n            }\r\n\r\n            camera.updateProjectionMatrix()\r\n        })\r\n\r\n        domElement.addEventListener(\"pointerdown\", () => {\r\n            this._isMouseDown = true\r\n        })\r\n\r\n        domElement.addEventListener(\"pointerup\", () => {\r\n            this._isMouseDown = false\r\n        })\r\n\r\n        domElement.addEventListener(\"pointermove\", e => {\r\n            if (!this.enabled) {\r\n                return\r\n            }\r\n\r\n            if (this._isMouseDown) {\r\n                const scaledMoveX = e.movementX * this.moveScale * 0.01\r\n                // rotation.x limited within [0,2Pi)\r\n                if (camera.rotation.x - scaledMoveX < 0) {\r\n                    camera.rotation.x = Math.PI * 2 + camera.rotation.x - scaledMoveX\r\n                }\r\n                else if (camera.rotation.x - scaledMoveX >= Math.PI * 2) {\r\n                    camera.rotation.x = camera.rotation.x - scaledMoveX - Math.PI * 2\r\n                }\r\n                else {\r\n                    camera.rotation.x -= scaledMoveX\r\n                }\r\n\r\n                //console.log(camera.rotation.x)\r\n\r\n                const halfPi = Math.PI / 2\r\n\r\n                const scaledMoveY = e.movementY * this.moveScale * 0.01\r\n                // rotation.y limited within [-Pi/2,Pi/2]\r\n                if (camera.rotation.y + scaledMoveY > halfPi) {\r\n                    camera.rotation.y = halfPi\r\n                }\r\n                else if (camera.rotation.y + scaledMoveY < -halfPi) {\r\n                    camera.rotation.y = -halfPi\r\n                }\r\n                else {\r\n                    camera.rotation.y += scaledMoveY\r\n                }\r\n\r\n                if (this.onHeadingChange) {\r\n                    let correctedHeadingRad = -camera.rotation.x + 2.5 * Math.PI\r\n                    if (correctedHeadingRad >= Math.PI * 2) {\r\n                        correctedHeadingRad -= Math.PI * 2\r\n                    }\r\n                    this.onHeadingChange(correctedHeadingRad)\r\n                }\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport {SMVDragControls}","import { gsap, Power1 } from \"gsap\"\r\n\r\nfunction showCompass(duration = 0.5, completed = () => { }) {\r\n    gsap.to(\".div-compass-wrapper\", {\r\n        duration: duration,\r\n        opacity: 0.95,\r\n        ease: Power1.easeIn,\r\n        onComplete: completed\r\n    })\r\n}\r\n\r\nfunction hideCompass(duration = 1, completed = () => { }) {\r\n    gsap.to(\".div-compass-wrapper\", {\r\n        duration: duration,\r\n        opacity: 0,\r\n        ease: Power1.easeOut,\r\n        onComplete: completed\r\n    })\r\n}\r\n\r\nfunction showAbout() {\r\n    gsap.to(\".div-about-wrapper\", {\r\n        duration: 0.5,\r\n        opacity: 1,\r\n        ease: Power1.easeIn\r\n    })\r\n}\r\n\r\nfunction hideAbout(completed = () => { }) {\r\n    gsap.to(\".div-about-wrapper\", {\r\n        duration: 0.5,\r\n        opacity: 0,\r\n        ease: Power1.easeOut,\r\n        onComplete: completed\r\n    })\r\n}\r\n\r\nfunction showGroundPlane(material) {\r\n    gsap.to(material, {\r\n        duration: 1,\r\n        opacity: 1,\r\n        ease: Power1.easeIn\r\n    })\r\n}\r\n\r\nfunction hideGroundPlane(material, completed = () => { }) {\r\n    gsap.to(material, {\r\n        duration: 1,\r\n        opacity: 0,\r\n        ease: Power1.easeOut,\r\n        onComplete: completed\r\n    })\r\n}\r\n\r\nexport{showCompass,hideCompass,showAbout,hideAbout,showGroundPlane,hideGroundPlane}","import * as THREE from \"three\"\r\n\r\nimport { hCamera,sunLightDistanceScale,sunTrackDistanceScale } from \"./AppConstants\"\r\nimport { calculateSunPosition, toDeg } from \"./GeoMath\"\r\nimport { generateSunTrackLine } from \"./ObjectGenerators\"\r\nimport * as ANIMATIONS from \"./Animations\"\r\n\r\nfunction changeToGroundView(app) {\r\n    if (app.isGroundView) {\r\n        return\r\n    }\r\n\r\n    app.isGroundView = true\r\n    app.orbitControlsOuter.enabled = false\r\n    app.latData.visible = false\r\n    app.sunLight.children[0].visible = true\r\n\r\n    app.groundPlaneMesh.visible=true\r\n\r\n    updateSunPosition(app,app.latRad, app.timeMinutes, app.solarAltituteDeg)\r\n\r\n    // save current camera state\r\n    app.previousCameraZoom = app.cameraOuter.zoom\r\n    app.previousCameraPosition = app.cameraOuter.position.clone()\r\n    app.previousCameraQuaternion = app.cameraOuter.quaternion.clone()\r\n\r\n    // prepare and play transition animations\r\n    const cameraPositionTrack = new THREE.VectorKeyframeTrack(\r\n        \"camera.position\",\r\n        [0, 1],\r\n        [app.cameraOuter.position.x, app.cameraOuter.position.y, app.cameraOuter.position.z,\r\n            hCamera, 0, 0],\r\n        THREE.InterpolateSmooth)\r\n\r\n    // in particular, we calculate the quaternion (for lookAt) with a camera hijack.\r\n    // that is, we put a copy of current camera to our desired state and get its\r\n    // quaternion. then make a quaternion animation for our active camera.\r\n    const cameraCopy = app.camera.clone()\r\n    cameraCopy.position.set(hCamera, 0, 0)\r\n    cameraCopy.lookAt(hCamera, 1, 0)\r\n    cameraCopy.rotation.z = -Math.PI / 2\r\n\r\n    const cameraQuaternionTrack = new THREE.QuaternionKeyframeTrack(\r\n        \"camera.quaternion\",\r\n        [0, 1],\r\n        [app.cameraOuter.quaternion.x, app.cameraOuter.quaternion.y,\r\n            app.cameraOuter.quaternion.z, app.cameraOuter.quaternion.w,\r\n        cameraCopy.quaternion.x, cameraCopy.quaternion.y,\r\n        cameraCopy.quaternion.z, cameraCopy.quaternion.w\r\n        ]\r\n    )\r\n\r\n    const cameraClip =\r\n        new THREE.AnimationClip(\"clip-camera\", 1, [cameraPositionTrack, cameraQuaternionTrack])\r\n\r\n    const mixerCamera = new THREE.AnimationMixer(app.camera)\r\n\r\n    const cameraAction = mixerCamera.clipAction(cameraClip)\r\n\r\n    cameraAction.loop = THREE.LoopOnce\r\n\r\n    mixerCamera.addEventListener(\"finished\", e => {\r\n        e.action.stop()\r\n        app.camera.position.set(hCamera, 0, 0)\r\n        app.camera.setRotationFromQuaternion(cameraCopy.quaternion)\r\n        app.camera.updateProjectionMatrix()\r\n\r\n        app.sunTrackLineGroup.children[0] = generateSunTrackLine(app.latRad, app.solarAltituteDeg)\r\n        app.sunTrackLineGroup.visible = true\r\n\r\n        app.earthMesh.visible = false\r\n\r\n        app.arrowMesh.position.set(0, 0, 0)\r\n        app.arrowMesh.rotation.z = Math.PI / 2\r\n        app.arrowMesh.visible = true\r\n\r\n        app.isGroundControlsShow = true\r\n        app.smvDragControls.enabled = true\r\n        app.scene.background = app.sceneBackgroundColor\r\n\r\n        app.sunLight.intensity = 1\r\n        app.ambientLight.intensity = 0.35\r\n    })\r\n\r\n    app.mixers = [mixerCamera]\r\n\r\n    cameraAction.play()\r\n\r\n    ANIMATIONS.showGroundPlane(app.groundPlaneMesh.material)\r\n\r\n    ANIMATIONS.showCompass()\r\n}\r\n\r\nfunction switchGroundView(app) {\r\n    // prevent repeated click during fade\r\n    if (!app.isGroundControlsShow) {\r\n        return\r\n    }\r\n\r\n    if (!app.isSkySphereView) {\r\n        app.scene.rotation.z = Math.PI / 2\r\n        app.sunTrackLineGroup.children[0].rotation.z = Math.PI / 2\r\n        app.smvDragControls.enabled = false\r\n\r\n        app.cameraOuter.position.set(372,196,330)\r\n        app.cameraOuter.zoom = 1.0\r\n        app.cameraOuter.updateProjectionMatrix()\r\n\r\n        app.orbitControlsOuter.enabled = true\r\n\r\n        app.sunLight.intensity = 0.6\r\n        app.ambientLight.intensity = 0.5\r\n\r\n        app.sunLight.children[0].visible = false\r\n        app.littleSunMesh.visible = true\r\n\r\n        app.arrowBigMesh.visible = true\r\n\r\n        app.skyCircleLine.visible = true\r\n        app.skySphereUMesh.visible = true\r\n        app.skySphereLMesh.visible = true\r\n    }\r\n    else {\r\n        app.scene.rotation.z = 0\r\n        app.sunTrackLineGroup.children[0].rotation.z = 0\r\n        app.smvDragControls.enabled = true\r\n\r\n        app.orbitControlsOuter.enabled = false\r\n\r\n        app.sunLight.intensity = 1\r\n        app.ambientLight.intensity = 0.35\r\n\r\n        app.sunLight.children[0].visible = true\r\n        app.littleSunMesh.visible = false\r\n\r\n        app.arrowBigMesh.visible = false\r\n\r\n        app.skyCircleLine.visible = false\r\n        app.skySphereUMesh.visible = false\r\n        app.skySphereLMesh.visible = false\r\n    }\r\n\r\n    app.isSkySphereView = !app.isSkySphereView\r\n\r\n    app.sunTrackLineGroup.children[0] =\r\n        generateSunTrackLine(app.latRad, app.solarAltituteDeg, app.isSkySphereView)\r\n    app.sunTrackLineGroup.children[0].rotation.z = app.isSkySphereView ? Math.PI / 2 : 0\r\n}\r\n\r\nfunction exitGroundView(app) {\r\n    // prevent repeated click during fade\r\n    if (!app.isGroundControlsShow) {\r\n        return\r\n    }\r\n\r\n    if (app.isSkySphereView) {\r\n        app.scene.rotation.z = 0\r\n        app.sunTrackLineGroup.children[0].rotation.z = 0\r\n\r\n        app.littleSunMesh.visible = false\r\n\r\n        app.skyCircleLine.visible = false\r\n        app.skySphereUMesh.visible=false\r\n        app.skySphereLMesh.visible=false\r\n\r\n        app.isSkySphereView = false\r\n\r\n        app.arrowBigMesh.visible = false\r\n\r\n        app.groundPlaneMesh.visible=false\r\n    }\r\n    else {\r\n        ANIMATIONS.hideGroundPlane(app.groundPlaneMesh.material,() => {\r\n                app.groundPlaneMesh.visible=false\r\n            })\r\n    }\r\n\r\n    app.earthMesh.visible = true\r\n\r\n    app.sunTrackLineGroup.visible = false\r\n    app.arrowMesh.visible = false\r\n\r\n    app.isGroundControlsShow = false\r\n    app.smvDragControls.enabled = false\r\n    app.scene.background = app.sceneBackgroundTexture\r\n    app.ambientLight.intensity = 1.3\r\n    app.sunLight.intensity = 0.5\r\n\r\n    app.sunLight.children[0].visible = false\r\n\r\n    if (app.windowIntervalHandlerNumber != -1) {\r\n        window.clearInterval(app.windowIntervalHandlerNumber)\r\n        app.windowIntervalHandlerNumber = -1\r\n    }\r\n\r\n    const cameraPositionTrack = new THREE.VectorKeyframeTrack(\r\n        \"camera.position\",\r\n        [0, 1],\r\n        [app.camera.position.x, app.camera.position.y, app.camera.position.z,\r\n        app.previousCameraPosition.x, app.previousCameraPosition.y, app.previousCameraPosition.z],\r\n        THREE.InterpolateSmooth)\r\n\r\n    const cameraQuaternionTrack = new THREE.QuaternionKeyframeTrack(\r\n        \"camera.quaternion\",\r\n        [0, 1],\r\n        [app.camera.quaternion.x, app.camera.quaternion.y,\r\n        app.camera.quaternion.z, app.camera.quaternion.w,\r\n        app.previousCameraQuaternion.x, app.previousCameraQuaternion.y,\r\n        app.previousCameraQuaternion.z, app.previousCameraQuaternion.w\r\n        ]\r\n    )\r\n\r\n    const cameraClip =\r\n        new THREE.AnimationClip(\"clip-camera\", 1, [cameraPositionTrack, cameraQuaternionTrack])\r\n\r\n    const mixerCamera = new THREE.AnimationMixer(app.camera)\r\n\r\n    const cameraAction = mixerCamera.clipAction(cameraClip)\r\n\r\n    cameraAction.loop = THREE.LoopOnce\r\n\r\n    mixerCamera.addEventListener(\"finished\", e => {\r\n        e.action.stop()\r\n\r\n        app.camera.position.set(\r\n            app.previousCameraPosition.x,\r\n            app.previousCameraPosition.y,\r\n            app.previousCameraPosition.z)\r\n        app.camera.setRotationFromQuaternion(app.previousCameraQuaternion)\r\n        app.camera.updateProjectionMatrix()\r\n\r\n        app.cameraOuter.position.set(\r\n            app.previousCameraPosition.x,\r\n            app.previousCameraPosition.y,\r\n            app.previousCameraPosition.z)\r\n        app.cameraOuter.setRotationFromQuaternion(app.previousCameraQuaternion)\r\n        app.cameraOuter.zoom = app.previousCameraZoom\r\n        app.cameraOuter.updateProjectionMatrix()\r\n\r\n        app.isGroundView = false\r\n\r\n        app.orbitControlsOuter.enabled = true\r\n\r\n        app.latData.visible = true\r\n    })\r\n\r\n    app.mixers = [mixerCamera]\r\n\r\n    cameraAction.play()\r\n\r\n    ANIMATIONS.hideCompass(1, () => { app.currentHeadingRad = 0 })\r\n}\r\n\r\nfunction updateSunPosition(app,latRad, timeMinutes, solarAltituteDeg) {\r\n    const calculatedSunPosition =\r\n        calculateSunPosition(latRad, timeMinutes, solarAltituteDeg)\r\n\r\n    app.sunLight.position.set(\r\n        calculatedSunPosition[0] * sunLightDistanceScale,\r\n        calculatedSunPosition[1] * sunLightDistanceScale,\r\n        calculatedSunPosition[2] * sunLightDistanceScale\r\n    )\r\n\r\n    app.littleSunMesh.position.set(\r\n        calculatedSunPosition[0] * sunTrackDistanceScale,\r\n        calculatedSunPosition[1] * sunTrackDistanceScale,\r\n        calculatedSunPosition[2] * sunTrackDistanceScale\r\n    )\r\n\r\n    let angleWithNormalRad = Math.acos(\r\n        calculatedSunPosition[0] / Math.sqrt(\r\n            calculatedSunPosition[0] ** 2\r\n            + calculatedSunPosition[1] ** 2\r\n            + calculatedSunPosition[2] ** 2)\r\n    )\r\n\r\n    let solarAltitudeAngleRad = Math.PI / 2 - angleWithNormalRad\r\n    if (solarAltitudeAngleRad < 0) {\r\n        solarAltitudeAngleRad = 0\r\n    }\r\n\r\n    app.solarAltitudeAngleDeg = toDeg(solarAltitudeAngleRad)\r\n}\r\n\r\nfunction updateSunTrackLine(app,latRad,solarAltitudeAngleDeg) {\r\n    app.sunTrackLineGroup.children[0] = generateSunTrackLine(latRad, solarAltitudeAngleDeg, app.isSkySphereView)\r\n\r\n    app.sunTrackLineGroup.children[0].rotation.z = app.isSkySphereView ? Math.PI / 2 : 0\r\n}\r\n\r\nexport {\r\n    changeToGroundView,\r\n    switchGroundView,\r\n    exitGroundView,\r\n    updateSunPosition,\r\n    updateSunTrackLine\r\n}\r\n\r\n","import * as THREE from \"three\"\r\nimport { FBXLoader } from \"three/examples/jsm/loaders/FBXLoader\"\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\"\r\nimport { Lensflare, LensflareElement } from \"three/examples/jsm/objects/Lensflare\"\r\n\r\nimport { earthRadius, skySphereRadius, modelPath, cameraOuterHorizontalSize, textureRepeatCount } from \"./AppConstants\"\r\nimport { generateLatData } from \"./ObjectGenerators\"\r\nimport { SMVDragControls } from \"./DragControls\"\r\nimport { toDeg, updateSprites } from \"./GeoMath\"\r\nimport { changeToGroundView } from \"./SceneControl\"\r\nimport { isMobilePhoneBrowser } from \"./Utilities\"\r\n\r\nfunction initWebGLData(app) {\r\n    // WebGL Data should not be placed in data() section. this will cause errors\r\n    app.canvasWidth = 0\r\n    app.canvasHeight = 0\r\n\r\n    app.scene = undefined\r\n\r\n    app.camera = undefined\r\n\r\n    app.cameraOuter = undefined\r\n\r\n    app.renderer = undefined\r\n\r\n    app.sceneBackgroundTexture = undefined\r\n\r\n    app.earthMesh = undefined\r\n\r\n    app.ambientLight = undefined\r\n\r\n    app.sunLight = undefined\r\n\r\n    app.latData = undefined\r\n\r\n    app.skyCircleLine = undefined\r\n    app.skySphereUMesh = undefined\r\n    app.skySphereLMesh = undefined\r\n\r\n    app.groundPlaneMesh = undefined\r\n    // use a group which permanently exists in scene to make track updates possible\r\n    app.sunTrackLineGroup = undefined\r\n\r\n    app.arrowMesh = undefined\r\n    app.arrowBigMesh = undefined\r\n\r\n    app.orbitControlsOuter = undefined\r\n\r\n    app.smvDragControls = undefined\r\n\r\n    app.rayCaster = undefined\r\n    app.mousePointer = undefined\r\n\r\n    app.clock = undefined\r\n\r\n    app.mixers = undefined\r\n\r\n    // camera state data before ground view\r\n    app.previousCameraZoom = undefined\r\n    app.previousCameraPosition = undefined\r\n    app.previousCameraQuaternion = undefined\r\n\r\n    // Interaction data\r\n    app.isMouseOnEarth = false\r\n}\r\n\r\nfunction setUpWebGL(app) {\r\n    ///////////////////////// Basic Setup /////////////////////////\r\n    app.canvasWidth = window.innerWidth\r\n    app.canvasHeight = window.innerHeight\r\n\r\n    app.scene = new THREE.Scene()\r\n\r\n    app.camera = new THREE.PerspectiveCamera(60, app.canvasWidth / app.canvasHeight, 0.01, 10000)\r\n\r\n    app.cameraOuter = new THREE.OrthographicCamera(\r\n        -cameraOuterHorizontalSize,\r\n        cameraOuterHorizontalSize,\r\n        cameraOuterHorizontalSize * app.canvasHeight / app.canvasWidth,\r\n        -cameraOuterHorizontalSize * app.canvasHeight / app.canvasWidth,\r\n        0.1,\r\n        10000)\r\n\r\n\r\n    app.renderer = new THREE.WebGLRenderer({ alpha: true })\r\n\r\n    const textureLoader = new THREE.TextureLoader()\r\n\r\n    app.sceneBackgroundColor = new THREE.Color(0x000000)\r\n    if (!isMobilePhoneBrowser()) {\r\n        app.sceneBackgroundTexture = textureLoader.load(modelPath + \"starry.jpg\")\r\n        app.scene.background = app.sceneBackgroundTexture\r\n    }\r\n    else {\r\n        // 手机屏幕竖屏时星空背景图片拉伸变形严重，因此直接使用黑色背景\r\n        app.scene.background = app.sceneBackgroundColor\r\n    }\r\n\r\n    app.camera.name = \"camera\"\r\n    app.camera.position.set(218, 0, -83)\r\n    app.camera.lookAt(0, 0, 0)\r\n\r\n\r\n    app.cameraOuter.position.set(218, 0, -83)\r\n    app.cameraOuter.lookAt(0, 0, 0)\r\n\r\n\r\n    app.renderer.setSize(app.canvasWidth, app.canvasHeight)\r\n\r\n    document.body.append(app.renderer.domElement)\r\n\r\n    ///////////////////////// Model Loading /////////////////////////\r\n\r\n    // Earth\r\n    const loader = new FBXLoader()\r\n    loader.load(modelPath + \"earth.fbx\", obj => {\r\n        app.earthMesh = obj\r\n\r\n        obj.children[0].material.shininess = 80\r\n\r\n        app.scene.add(obj)\r\n    })\r\n\r\n    // Arrows\r\n    loader.load(modelPath + \"arrow.fbx\", obj => {\r\n        app.arrowMesh = obj\r\n        obj.visible = false\r\n        app.scene.add(obj)\r\n    })\r\n\r\n    loader.load(modelPath + \"arrow_big.fbx\", obj => {\r\n        app.arrowBigMesh = obj\r\n        app.arrowBigMesh.position.set(0, 0, 0)\r\n        app.arrowBigMesh.rotation.z = Math.PI / 2\r\n        obj.visible = false\r\n        app.scene.add(obj)\r\n    })\r\n\r\n    // Ground Plane\r\n    const groundPlaneGeometry = new THREE.CircleGeometry(skySphereRadius, 100)\r\n\r\n    const detailTexture = textureLoader.load(modelPath + \"detail.jpg\")\r\n    detailTexture.wrapS = THREE.RepeatWrapping\r\n    detailTexture.wrapT = THREE.RepeatWrapping\r\n    detailTexture.repeat.set(textureRepeatCount, textureRepeatCount)\r\n\r\n    const groundMaterial = new THREE.MeshStandardMaterial({\r\n        map: detailTexture,\r\n        side: THREE.DoubleSide\r\n    })\r\n    groundMaterial.transparent = true\r\n    groundMaterial.opacity = 0\r\n\r\n    app.groundPlaneMesh = new THREE.Mesh(groundPlaneGeometry, groundMaterial)\r\n    app.groundPlaneMesh.position.set(0, 0, 0)\r\n    app.groundPlaneMesh.rotation.x = Math.PI / 2\r\n    app.groundPlaneMesh.rotation.y = -Math.PI / 2\r\n    app.groundPlaneMesh.visible = false\r\n    app.scene.add(app.groundPlaneMesh)\r\n\r\n    // Little Sun (for skySphereView)\r\n    const littleSunGeometry = new THREE.SphereGeometry(5, 10, 10)\r\n    const littleSunMaterial = new THREE.MeshBasicMaterial({ color: 0xf0e68c })\r\n    app.littleSunMesh = new THREE.Mesh(littleSunGeometry, littleSunMaterial)\r\n    app.littleSunMesh.visible = false\r\n    app.scene.add(app.littleSunMesh)\r\n\r\n    // Sky Circle and Sky Sphere\r\n    const skyCircleCurve = new THREE.EllipseCurve(0, 0, skySphereRadius, skySphereRadius)\r\n    const skyCircleGeometry = new THREE.BufferGeometry().setFromPoints(skyCircleCurve.getPoints(100))\r\n    const skyCircleMaterial = new THREE.LineDashedMaterial({\r\n        color: 0xff8c00,\r\n        dashSize: 6,\r\n        gapSize: 4,\r\n        transparent: true,\r\n        opacity: 0.6\r\n    })\r\n\r\n    app.skyCircleLine = new THREE.Line(skyCircleGeometry, skyCircleMaterial).computeLineDistances()\r\n    app.skyCircleLine.rotation.x = Math.PI / 2\r\n    app.skyCircleLine.visible = false\r\n\r\n    // current design is not to show this\r\n    //app.scene.add(app.skyCircleLine)\r\n\r\n    const skySphereUGeometry = new THREE.SphereGeometry(\r\n        skySphereRadius,\r\n        100, 100,\r\n        0, 2 * Math.PI,\r\n        0, Math.PI / 2\r\n    )\r\n\r\n    const skySphereLGeometry = new THREE.SphereGeometry(\r\n        skySphereRadius,\r\n        100, 100,\r\n        0, 2 * Math.PI,\r\n        0, Math.PI / 2\r\n    )\r\n\r\n    const skySphereUMaterial = new THREE.MeshBasicMaterial({\r\n        color: 0x1e90ff,\r\n        transparent: true,\r\n        opacity: 0.25,\r\n        side: THREE.DoubleSide\r\n    })\r\n    const skySphereLMaterial = new THREE.MeshBasicMaterial({\r\n        color: 0x808080,\r\n        transparent: true,\r\n        opacity: 0.25,\r\n        side: THREE.DoubleSide\r\n    })\r\n\r\n    app.skySphereUMesh = new THREE.Mesh(skySphereUGeometry, skySphereUMaterial)\r\n    app.skySphereLMesh = new THREE.Mesh(skySphereLGeometry, skySphereLMaterial)\r\n\r\n    app.skySphereUMesh.rotation.z = -Math.PI / 2\r\n    app.skySphereLMesh.rotation.z = Math.PI / 2\r\n\r\n    app.skySphereUMesh.visible = false\r\n    app.skySphereLMesh.visible = false\r\n\r\n    app.scene.add(app.skySphereUMesh, app.skySphereLMesh)\r\n\r\n    ///////////////////////// GeoElements Loading /////////////////////////\r\n\r\n    app.latData = generateLatData(100)\r\n\r\n    updateSprites(app.cameraOuter, app.latData.children[1].children)\r\n\r\n    app.scene.add(app.latData)\r\n\r\n    app.sunTrackLineGroup = new THREE.Group()\r\n    app.scene.add(app.sunTrackLineGroup)\r\n    //app.scene.add(new THREE.AxesHelper(200))\r\n\r\n    ///////////////////////// Light&Lensflare Setup /////////////////////////\r\n\r\n    app.ambientLight = new THREE.AmbientLight(0xffffff, 1.3)\r\n\r\n    app.sunLight = new THREE.DirectionalLight(0xffffff, 0.5)\r\n    app.sunLight.position.set(150, 180, 0)\r\n\r\n    const textureFlare0 = textureLoader.load(modelPath + \"lf0.png\")\r\n    const textureFlare3 = textureLoader.load(modelPath + \"lf1.png\")\r\n\r\n    const lensflare = new Lensflare()\r\n    lensflare.addElement(new LensflareElement(textureFlare0, 700, 0, app.sunLight.color))\r\n    lensflare.addElement(new LensflareElement(textureFlare3, 60, 0.6))\r\n    lensflare.addElement(new LensflareElement(textureFlare3, 70, 0.7))\r\n    lensflare.addElement(new LensflareElement(textureFlare3, 120, 0.9))\r\n    lensflare.addElement(new LensflareElement(textureFlare3, 70, 1))\r\n    app.sunLight.add(lensflare)\r\n\r\n    app.sunLight.children[0].visible = false\r\n\r\n    app.scene.add(app.ambientLight)\r\n    app.scene.add(app.sunLight)\r\n\r\n    ///////////////////////// Control Setup /////////////////////////\r\n\r\n    app.orbitControlsOuter = new OrbitControls(app.cameraOuter, app.renderer.domElement)\r\n    app.orbitControlsOuter.enableDamping = true // an animation loop is required when either damping or auto-rotation are enabled\r\n    app.orbitControlsOuter.dampingFactor = 0.05\r\n    app.orbitControlsOuter.minZoom = 0.7350918906249998\r\n    app.orbitControlsOuter.maxZoom = 4.658990676380596\r\n\r\n    app.smvDragControls = new SMVDragControls(app.camera, app.renderer.domElement)\r\n    app.smvDragControls.enabled = false\r\n    app.smvDragControls.onHeadingChange = headingRad => {\r\n        app.currentHeadingRad = headingRad\r\n    }\r\n\r\n    ///////////////////////// Utility Setup /////////////////////////\r\n\r\n    app.rayCaster = new THREE.Raycaster()\r\n    app.mousePointer = new THREE.Vector2()\r\n\r\n    app.mixers = []\r\n\r\n    app.clock = new THREE.Clock()\r\n\r\n    ///////////////////////// Animation Render Setup /////////////////////////\r\n\r\n    const animate = () => {\r\n        requestAnimationFrame(animate)\r\n\r\n        if (!app.isGroundView || app.isSkySphereView) {\r\n            app.orbitControlsOuter.update()\r\n        }\r\n\r\n        const delta = app.clock.getDelta()\r\n\r\n        for (let i of app.mixers) {\r\n            i.update(delta)\r\n        }\r\n\r\n        app.renderer.render(app.scene, !app.isGroundView || app.isSkySphereView ? app.cameraOuter : app.camera)\r\n\r\n    }\r\n\r\n    animate()\r\n\r\n    ///////////////////////// Event Setup /////////////////////////\r\n\r\n    window.onresize = () => {\r\n        app.canvasWidth = window.innerWidth\r\n        app.canvasHeight = window.innerHeight\r\n\r\n        app.renderer.setSize(app.canvasWidth, app.canvasHeight)\r\n        app.camera.aspect = app.canvasWidth / app.canvasHeight\r\n        app.camera.updateProjectionMatrix()\r\n\r\n        app.cameraOuter.top = cameraOuterHorizontalSize * app.canvasHeight / app.canvasWidth\r\n        app.cameraOuter.bottom = -cameraOuterHorizontalSize * app.canvasHeight / app.canvasWidth\r\n        app.cameraOuter.updateProjectionMatrix()\r\n    }\r\n\r\n    window.onmousemove = (e) => {\r\n        // do not pick up lat when in ground view, including animation\r\n        if (app.isGroundView) {\r\n            return\r\n        }\r\n\r\n        app.mousePointer.x = (e.clientX / window.innerWidth) * 2 - 1\r\n        app.mousePointer.y = - (e.clientY / window.innerHeight) * 2 + 1\r\n\r\n        app.rayCaster.setFromCamera(app.mousePointer, app.cameraOuter)\r\n\r\n        if (app.earthMesh) {\r\n            const intersects = app.rayCaster.intersectObjects(app.earthMesh.children, false)\r\n            if (intersects.length > 0) {\r\n                let latRad = Math.asin(intersects[0].point.y / earthRadius)\r\n\r\n                app.latDegFixed1 = parseFloat(toDeg(latRad).toFixed(1))\r\n\r\n                // overwrite the fixed value updated by the watch function with the precise value\r\n                app.latRad = latRad\r\n\r\n                app.isMouseOnEarth = true\r\n            }\r\n            else {\r\n                app.isMouseOnEarth = false\r\n            }\r\n        }\r\n    }\r\n\r\n    window.ondblclick = () => {\r\n        if (app.isMouseOnEarth) {\r\n            changeToGroundView(app)\r\n        }\r\n    }\r\n\r\n    app.orbitControlsOuter.addEventListener(\"change\", () => {\r\n        if (!app.isGroundView) {\r\n            updateSprites(app.cameraOuter, app.latData.children[1].children)\r\n        }\r\n\r\n        if (app.isSkySphereView) {\r\n            let angleRad =\r\n                Math.acos(\r\n                    -app.cameraOuter.position.x\r\n                    / Math.sqrt(\r\n                        app.cameraOuter.position.x ** 2\r\n                        + app.cameraOuter.position.z ** 2))\r\n\r\n            app.currentHeadingRad =\r\n                app.cameraOuter.position.z > 0 ? (Math.PI - angleRad) : (Math.PI + angleRad)\r\n        }\r\n    })\r\n}\r\n\r\nexport { initWebGLData, setUpWebGL }","function getHeadingWord(currentHeadingRoundedDeg) {\r\n    if (currentHeadingRoundedDeg == 0) {\r\n        return \"北\"\r\n    }\r\n    else if (0 < currentHeadingRoundedDeg && currentHeadingRoundedDeg < 90) {\r\n        return \"东北\"\r\n    }\r\n    else if (currentHeadingRoundedDeg == 90) {\r\n        return \"东\"\r\n    }\r\n    else if (90 < currentHeadingRoundedDeg && currentHeadingRoundedDeg < 180) {\r\n        return \"东南\"\r\n    }\r\n    else if (currentHeadingRoundedDeg == 180) {\r\n        return \"南\"\r\n    }\r\n    else if (180 < currentHeadingRoundedDeg && currentHeadingRoundedDeg < 270) {\r\n        return \"西南\"\r\n    }\r\n    else if (currentHeadingRoundedDeg == 270) {\r\n        return \"西\"\r\n    }\r\n    else {\r\n        return \"西北\"\r\n    }\r\n}\r\n\r\nfunction convertToLocalTime(timeMinutes) {\r\n    let hourDecimal = timeMinutes / 60\r\n\r\n    let hour = parseInt(hourDecimal)\r\n    let minute = Math.round(60 * (hourDecimal - hour))\r\n\r\n    let minuteZeroed = minute < 10 ? `0${minute}` : `${minute}`\r\n\r\n    return `${hour}:${minuteZeroed}`\r\n}\r\n\r\nexport{getHeadingWord,convertToLocalTime}","<template>\n   <label class=\"lbl-compass-word\" :style=\"{color:textcolor,transform:'translate('+translatedata.x+'px,'+translatedata.y+'px)'}\">{{word}}</label>\n</template>\n\n<script>\nexport default {\n  props: {\n      word: {\n          type: String,\n          required: true\n      },\n      translatedata: {\n          type: Object,\n          required: true\n      },\n      textcolor: {\n          type: String,\n          required: true\n      }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.lbl-compass-word{\n    position: absolute;\n    left: 0;\n    top: 0;\n\n    font-size: 25px;\n    font-weight: bold;\n}\n</style>\n","import { render } from \"./CompassWord.vue?vue&type=template&id=4cb0db9c&scoped=true\"\nimport script from \"./CompassWord.vue?vue&type=script&lang=js\"\nexport * from \"./CompassWord.vue?vue&type=script&lang=js\"\n\nimport \"./CompassWord.vue?vue&type=style&index=0&id=4cb0db9c&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\ErnestsProjects\\\\SunMotionVisualization\\\\sun-motion-visualization\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4cb0db9c\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=3436f4f3&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=3436f4f3&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\ErnestsProjects\\\\SunMotionVisualization\\\\sun-motion-visualization\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3436f4f3\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('body')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksun_motion_visualization\"] = self[\"webpackChunksun_motion_visualization\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(5866); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createElementVNode","class","style","d","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_26","_hoisted_27","_hoisted_29","src","_imports_0","draggable","_createElementBlock","$data","onDblclick","_hoisted_1","_hoisted_4","_toDisplayString","Math","abs","onClick","$options","type","min","max","step","$event","_createVNode","_Transition","name","_hoisted_9","_hoisted_13","_hoisted_17","toFixed","t","viewBox","version","xmlns","width","height","_hoisted_31","_imports_1","transform","_component_compass_word","word","textcolor","translatedata","_hoisted_37","_hoisted_39","_hoisted_41","_hoisted_43","_hoisted_45","_hoisted_47","_hoisted_49","_hoisted_50","href","_hoisted_52","_hoisted_53","_hoisted_55","_hoisted_57","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_64","isMobilePhoneBrowser","uaLowerCase","navigator","userAgent","toLowerCase","includes","earthRadius","hCamera","hRiseSetLine","skySphereRadius","sunLightDistanceScale","sunTrackDistanceScale","modelPath","cameraOuterHorizontalSize","autoPlayIntervalMs","textureRepeatCount","wordCenterCircleRadius","divSize","labelWidth","labelHeight","toDeg","rad","PI","toRad","deg","updateSprites","camera","sprites","posScales","i","camX","position","x","camZ","z","z0","sqrt","targetX","cos","smvLatRad","targetZ","targetY","sin","smvSide","smvLatType","y","calculateSunPosition","latRad","timeMinutes","solarAltituteDeg","floatEps","D","halfPi","sa","l","cosAngle","isNoonOrMidnight","deltaL","yc","tan","xc","xk","yk","yLeft","yRight","finalScale","calculateSunRiseSetPosition","sunriseY","sunriseZ","sunsetY","sunsetZ","calculateCompassWordTranslates","currentHeadingRad","translates","rotationOffsetsRad","targetRotationRad","targetTranslateX","targetTranslateY","generateLatLine","latDeg","color","isDashed","curve","THREE","geometry","setFromPoints","getPoints","material","rotateX","translate","dashSize","gapSize","computeLineDistances","generateLatSprite","latType","textureName","side","scaleXToY","texture","load","spriteMaterial","map","sprite","scale","set","generateLatData","latGroup","spriteGroup","lats","latsForSprites","colors","spriteTextureNames","scaleXToYs","add","generateSunTrackLine","addRiseSet","pointCount","lineColor","points","pointPosition","push","trackLine","riseSetPosition","rsGeometry","rsMaterial","SMVDragControls","constructor","domElement","this","moveScale","enabled","fovScale","maxFov","minFov","onHeadingChange","undefined","_isMouseDown","addEventListener","e","deltaY","fov","updateProjectionMatrix","scaledMoveX","movementX","rotation","scaledMoveY","movementY","correctedHeadingRad","showCompass","duration","completed","gsap","opacity","ease","Power1","onComplete","hideCompass","showAbout","hideAbout","showGroundPlane","hideGroundPlane","changeToGroundView","app","isGroundView","orbitControlsOuter","latData","visible","sunLight","children","groundPlaneMesh","updateSunPosition","previousCameraZoom","cameraOuter","zoom","previousCameraPosition","clone","previousCameraQuaternion","quaternion","cameraPositionTrack","cameraCopy","lookAt","cameraQuaternionTrack","w","cameraClip","mixerCamera","cameraAction","clipAction","loop","action","stop","setRotationFromQuaternion","sunTrackLineGroup","earthMesh","arrowMesh","isGroundControlsShow","smvDragControls","scene","background","sceneBackgroundColor","intensity","ambientLight","mixers","play","ANIMATIONS","switchGroundView","isSkySphereView","littleSunMesh","arrowBigMesh","skyCircleLine","skySphereUMesh","skySphereLMesh","exitGroundView","sceneBackgroundTexture","windowIntervalHandlerNumber","window","clearInterval","calculatedSunPosition","angleWithNormalRad","acos","solarAltitudeAngleRad","solarAltitudeAngleDeg","updateSunTrackLine","initWebGLData","canvasWidth","canvasHeight","renderer","rayCaster","mousePointer","clock","isMouseOnEarth","setUpWebGL","innerWidth","innerHeight","alpha","textureLoader","setSize","document","body","append","loader","FBXLoader","obj","shininess","groundPlaneGeometry","detailTexture","wrapS","wrapT","repeat","groundMaterial","transparent","littleSunGeometry","littleSunMaterial","skyCircleCurve","skyCircleGeometry","skyCircleMaterial","skySphereUGeometry","skySphereLGeometry","skySphereUMaterial","skySphereLMaterial","textureFlare0","textureFlare3","lensflare","Lensflare","addElement","LensflareElement","OrbitControls","enableDamping","dampingFactor","minZoom","maxZoom","headingRad","animate","requestAnimationFrame","update","delta","getDelta","render","onresize","aspect","top","bottom","onmousemove","clientX","clientY","setFromCamera","intersects","intersectObjects","length","asin","point","latDegFixed1","parseFloat","ondblclick","angleRad","getHeadingWord","currentHeadingRoundedDeg","convertToLocalTime","hourDecimal","hour","parseInt","minute","round","minuteZeroed","$props","props","String","required","Object","__exports__","data","title","isAboutShow","isControlsWrapperFolded","mounted","SC","onclick","watch","newVal","sunPositionParams","oldVal","computed","localTime","compassRotationRad","compassWordTranslates","headingRounded","currentHeadingWord","methods","adjLatDegFixed1","mode","adjSolarAltituteDeg","adjLocalTime","switchAutoPlay","setInterval","foldControlsWrapper","unfoldControlsWrapper","components","CompassWord","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","key","splice","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}