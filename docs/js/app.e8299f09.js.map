{"version":3,"file":"js/app.e8299f09.js","mappings":"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","sources":["webpack://sun-motion-visualization/./src/App.vue","webpack://sun-motion-visualization/./src/smv_modules/Utilities.js","webpack://sun-motion-visualization/./src/smv_modules/AppConstants.js","webpack://sun-motion-visualization/./src/smv_modules/CommonMath.js","webpack://sun-motion-visualization/./src/smv_modules/GeoMath.js","webpack://sun-motion-visualization/./src/smv_modules/ObjectGenerators.js","webpack://sun-motion-visualization/./src/smv_modules/DragControls.js","webpack://sun-motion-visualization/./src/smv_modules/Animations.js","webpack://sun-motion-visualization/./src/smv_modules/SceneControl.js","webpack://sun-motion-visualization/./src/smv_modules/AppSetup.js","webpack://sun-motion-visualization/./src/smv_modules/UIHelpers.js","webpack://sun-motion-visualization/./src/components/CompassWord.vue","webpack://sun-motion-visualization/./src/components/CompassWord.vue?c8dc","webpack://sun-motion-visualization/./src/App.vue?7ccd","webpack://sun-motion-visualization/./src/main.js","webpack://sun-motion-visualization/webpack/bootstrap","webpack://sun-motion-visualization/webpack/runtime/chunk loaded","webpack://sun-motion-visualization/webpack/runtime/compat get default export","webpack://sun-motion-visualization/webpack/runtime/define property getters","webpack://sun-motion-visualization/webpack/runtime/global","webpack://sun-motion-visualization/webpack/runtime/hasOwnProperty shorthand","webpack://sun-motion-visualization/webpack/runtime/make namespace object","webpack://sun-motion-visualization/webpack/runtime/publicPath","webpack://sun-motion-visualization/webpack/runtime/jsonp chunk loading","webpack://sun-motion-visualization/webpack/startup"],"sourcesContent":["/* eslint-disable no-unused-vars */\n<template>\n  <div>\n    <div\n      class=\"d-flex flex-column div-controls-wrapper\"\n      :class=\"{ 'div-controls-wrapper-folded': isControlsWrapperFolded }\"\n      style=\"z-index: 49\"\n      @dblclick.stop\n    >\n      <label class=\"lbl-common-text lbl-guide\"\n        >Tip :\n        直接双击地球上的点，就可以查看该纬度的太阳视运动了~也可以手动调整纬度前往哦！</label\n      >\n\n      <div class=\"div-common-control-block\">\n        <div\n          class=\"d-flex flex-row justify-content-between\"\n          style=\"margin-bottom: 5px\"\n        >\n          <div>\n            <label class=\"lbl-common-text\">纬度：</label>\n            <label class=\"lbl-data-display\"\n              >{{ Math.abs(latDegFixed1) }}°{{\n                latDegFixed1 > 0 ? \"N\" : latDegFixed1 == 0 ? \"\" : \"S\"\n              }}</label\n            >\n          </div>\n\n          <button class=\"btn btn-outline-light\" @click=\"changeToGroundView\">\n            前往\n          </button>\n        </div>\n        <input\n          class=\"form-range\"\n          type=\"range\"\n          min=\"-90\"\n          max=\"90\"\n          step=\"0.1\"\n          v-model.number=\"latDegFixed1\"\n        />\n\n        <div class=\"d-flex flex-row justify-content-between\">\n          <div class=\"div-adjust\" @click=\"adjLatDegFixed1(0)\">←</div>\n          <div class=\"div-adjust\" @click=\"adjLatDegFixed1(1)\">→</div>\n        </div>\n      </div>\n\n      <transition name=\"tr-ground-view\">\n        <div class=\"d-flex flex-column\" v-if=\"isGroundControlsShow\">\n          <div class=\"div-common-control-block\">\n            <label class=\"lbl-common-text\">太阳直射点纬度：</label>\n            <label class=\"lbl-data-display\"\n              >{{ Math.abs(subSolarPointLatDeg) }}°{{\n                subSolarPointLatDeg > 0 ? \"N\" : subSolarPointLatDeg == 0 ? \"\" : \"S\"\n              }}</label\n            >\n            <input\n              class=\"form-range\"\n              type=\"range\"\n              min=\"-23.5\"\n              max=\"23.5\"\n              step=\"0.1\"\n              v-model.number=\"subSolarPointLatDeg\"\n            />\n\n            <div class=\"d-flex flex-row justify-content-between\">\n              <div class=\"div-adjust\" @click=\"adjSubSolarPointLatDeg(0)\">←</div>\n              <div class=\"div-adjust\" @click=\"adjSubSolarPointLatDeg(1)\">→</div>\n            </div>\n          </div>\n\n          <div class=\"div-common-control-block d-flex flex-column\">\n            <div>\n              <label class=\"lbl-common-text\">当地地方时：</label>\n              <label class=\"lbl-data-display\">{{ localTime }}</label>\n            </div>\n            <input\n              class=\"form-range\"\n              style=\"margin-bottom: 5px\"\n              type=\"range\"\n              min=\"0\"\n              max=\"1439\"\n              step=\"1\"\n              v-model.number=\"timeMinutes\"\n            />\n\n            <div class=\"d-flex flex-row justify-content-between\">\n              <div class=\"div-adjust\" @click=\"adjLocalTime(0)\">←</div>\n              <div class=\"div-adjust\" @click=\"adjLocalTime(1)\">→</div>\n            </div>\n\n            <div style=\"margin: 10px 0\">\n              <label class=\"lbl-common-text\">太阳高度角：</label>\n              <label class=\"lbl-data-display\"\n                >{{ solarAltitudeAngleDeg.toFixed(1) }}°</label\n              >\n            </div>\n            <button class=\"btn btn-outline-light\" @click=\"switchAutoPlay\">\n              {{ windowIntervalHandlerNumber == -1 ? \"启动\" : \"停止\" }}循环播放\n            </button>\n          </div>\n\n          <div\n            class=\"div-common-control-block d-flex flex-column\"\n            style=\"margin-top: 0\"\n          >\n            <button class=\"btn btn-outline-info\" @click=\"switchGroundView\">\n              切换地平面/天球视图\n            </button>\n          </div>\n\n          <div\n            class=\"div-common-control-block d-flex flex-column\"\n            style=\"margin-top: 0\"\n          >\n            <button class=\"btn btn-outline-danger\" @click=\"exitGroundView\">\n              退出视图\n            </button>\n          </div>\n        </div>\n      </transition>\n\n      <div\n        class=\"\n          div-bottom-controls\n          d-flex\n          justify-content-between\n          align-items-center\n        \"\n      >\n        <svg\n          t=\"1668476575929\"\n          class=\"svg-bottom-control\"\n          style=\"z-index: 50\"\n          @click.stop=\"showAbout\"\n          viewBox=\"0 0 1024 1024\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          p-id=\"6202\"\n          width=\"32\"\n          height=\"32\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        >\n          <path\n            d=\"M618 669.9c-89.6 77.4-62.5-58.4-58.4-77.4 4.1-19 62.4-135.8 19.7-155.4-42.8-19.7-174.5 77.4-174.5 77.4s-21.7 15.6-19.7 19.7c14.3 25.1 77.4-19.7 77.4-19.7s21.7-17.6 19.7 0c-19 76.5-32 154.3-38.7 232.8 9.5 51.6 91 29.9 154.8-38.7 63.8-68.5 19.7-38.7 19.7-38.7z m0 0\"\n            p-id=\"6203\"\n          ></path>\n          <path\n            d=\"M566 378c24.2 1.3 47.3-10.4 60.5-30.7 13.2-20.3 14.7-46.1 3.7-67.8-11-21.6-32.6-35.8-56.9-37.1-24.2-1.3-47.3 10.4-60.5 30.7-13.2 20.3-14.7 46.1-3.7 67.8 11 21.6 32.7 35.8 56.9 37.1z m0 0\"\n            p-id=\"6204\"\n          ></path>\n          <path\n            d=\"M884.8 853.9c87.3-93.3 135.9-216.4 135.8-344.2C1020.6 228.5 792.7 0.6 511.5 0.6 230.3 0.6 2.4 228.6 2.4 509.7c0 281.2 227.9 509.1 509.1 509.1h475.2c14.3 0.1 27.1-8.7 32.1-22 5-13.4 1.1-28.4-9.7-37.7L884.8 853.9zM511.5 951C267.8 951 70.2 753.4 70.2 509.7 70.2 266 267.7 68.5 511.4 68.5S952.6 266 952.6 509.7c0.4 122.1-50.3 238.8-139.8 321.8-7.1 7-10.7 16.8-9.9 26.7 0.8 9.9 5.9 19 14 24.9l80.8 67.9H511.5z m0 0\"\n            p-id=\"6205\"\n          ></path>\n        </svg>\n\n        <svg\n          t=\"1668476332112\"\n          class=\"svg-bottom-control\"\n          style=\"z-index: 50\"\n          @click.stop=\"foldControlsWrapper\"\n          viewBox=\"0 0 1024 1024\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          p-id=\"4229\"\n          width=\"32\"\n          height=\"32\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        >\n          <path\n            d=\"M176 513.7l392.73-395.44a32 32 0 0 0-45.41-45.1L108 491.3a32 32 0 0 0 0.16 45.25L523.48 949a32 32 0 1 0 45.1-45.41z\"\n            p-id=\"4230\"\n          ></path>\n          <path\n            d=\"M525.23 513.7L918 118.26a32 32 0 1 0-45.41-45.1L457.27 491.3a32 32 0 0 0 0.16 45.25L872.7 949a32 32 0 0 0 45.1-45.41z\"\n            p-id=\"4231\"\n          ></path>\n        </svg>\n      </div>\n    </div>\n\n    <svg\n      t=\"1668476563071\"\n      v-if=\"isControlsWrapperFolded\"\n      class=\"svg-unfold\"\n      style=\"z-index: 50\"\n      @click.stop=\"unfoldControlsWrapper\"\n      viewBox=\"0 0 1024 1024\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      p-id=\"5207\"\n      width=\"32\"\n      height=\"32\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    >\n      <path\n        d=\"M44.4 245.9h935.2c24.4 0 44.4-20 44.4-44.4s-19.8-44.4-44.4-44.4H44.4C20 157.1 0 177.1 0 201.5s20 44.4 44.4 44.4z m935.2 221.8H44.4C20 467.7 0 487.7 0 512.1s20 44.4 44.4 44.4h935.2c24.4 0 44.4-20 44.4-44.4s-20-44.4-44.4-44.4z m0 310.4H44.4C20 778.1 0 797.8 0 822.5s20 44.4 44.4 44.4h935.2c24.4 0 44.4-19.8 44.4-44.4s-20-44.4-44.4-44.4z\"\n        p-id=\"5208\"\n      ></path>\n    </svg>\n\n    <div\n      class=\"d-flex flex-column align-items-center div-compass-wrapper\"\n      :style=\"{\n        zIndex: 49,\n        transform: `${\n          isMobilePhoneBrowser ? 'scale(0.5) translate(140px,150px)' : ''\n        }`,\n      }\"\n    >\n      <img\n        src=\"./uires/comp_arrow.png\"\n        style=\"width: 30px; height: 30px; margin-bottom: 5px\"\n        draggable=\"false\"\n      />\n\n      <div style=\"position: relative\">\n        <img\n          src=\"./uires/comp.png\"\n          class=\"img-comp\"\n          :style=\"{ transform: 'rotateZ(' + compassRotationRad + 'rad)' }\"\n          draggable=\"false\"\n        />\n\n        <compass-word\n          word=\"北\"\n          textcolor=\"dodgerblue\"\n          :translatedata=\"compassWordTranslates[0]\"\n        ></compass-word>\n        <compass-word\n          word=\"东\"\n          textcolor=\"limegreen\"\n          :translatedata=\"compassWordTranslates[1]\"\n        ></compass-word>\n        <compass-word\n          word=\"南\"\n          textcolor=\"orangered\"\n          :translatedata=\"compassWordTranslates[2]\"\n        ></compass-word>\n        <compass-word\n          word=\"西\"\n          textcolor=\"orange\"\n          :translatedata=\"compassWordTranslates[3]\"\n        ></compass-word>\n\n        <label class=\"lbl-center-info lbl-center-info-u\">{{\n          currentHeadingWord\n        }}</label>\n        <label class=\"lbl-center-info lbl-center-info-l\"\n          >{{ currentHeadingRoundedDeg }}°</label\n        >\n      </div>\n    </div>\n\n    <div v-show=\"isAboutShow\" class=\"div-about-wrapper\" style=\"z-index: 50\">\n      高中地理：太阳视运动可视化 ——献给我的母校山东省实验中学 (版本v3.3.0)<br />\n      软件作者：崔子健(Ernest Cui)<br />\n      作者单位：哈尔滨工业大学计算学部<br />\n      作者联系方式：ecuiships@126.com<br />\n      开发时间：2022.03.04 - 2022.03.08<br />\n      H5版本上线时间：2022.11.14<br />\n      项目简介：基于WebGL的太阳视运动可视化，可在地面或天球3D场景中自由观察太阳视运动轨迹，可选择任意观察纬度、动态调节太阳直射点纬度和地方时。项目使用真实距离比例和理想化数学模型，模拟准确度可满足高中地理教学的需要。\n      <br /><br />\n      本项目以GPL-3.0许可证开源。开源仓库地址：\n      <span>\n        <a\n          href=\"https://github.com/ErnestThePoet/SunMotionVisualization\"\n          @click.stop>Github</a>\n        <a\n          href=\"https://gitee.com/ecui/SunMotionVisualization\"\n          style=\"margin-left: 0.6em\"\n          @click.stop>Gitee</a>\n      </span>\n      <br />\n      <br />\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;高二的一节地理课上，我们学习了太阳的视运动轨迹。那些规律的轨迹看似简单，但亲自把它们想象出来，却让我伤透了脑筋。于是，那时初探计算机世界的我，在下课后就有了一个令自己激动不已的想法：要是能做出一个可以实地展现太阳运动轨迹的程序，帮助大家更直观地学习理解太阳的视运动，那该多好！当然，这主要由幻想构成的激动，在半节课后，就随着游走的笔头消逝在试卷之间了。\n      <br />\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;韶华的身影跳跃着。大二的一个傍晚，我完成了Three.js主要内容的自学；这时，我的天使告诉我：你可以回过头去，拾起三年前的小小心愿了。\n      <br />\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;——这便是我开始这个小小工程的一切动机。作为一份小小的礼物，我将它献给我的母校——山东省实验中学，献给我的恩师——孙玉娟老师；我永不会忘却，那些将地理之美呈现给我们、唤起我们对大千世界向往的课堂。<br />\n      <div style=\"text-align: right\">\n        2022年3月8日夜，于哈尔滨工业大学一公寓\n      </div>\n      <br />\n      <br />\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v3.0.0版本后记：深深感谢东校地理教研组长王桂林老师。使用过最初的版本后，王老师抽出宝贵的时间，结合教学实际，详细而耐心地为本项目提出了许多重要的改进建议，极大地完善和改进了这个项目。\n      <br />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { autoPlayIntervalMs } from \"./smv_modules/AppConstants\";\nimport { initWebGLData, setUpWebGL } from \"./smv_modules/AppSetup\";\nimport {\n  calculateCompassWordTranslates,\n} from \"./smv_modules/GeoMath\";\nimport {\n  toDeg,\n  toRad\n} from \"./smv_modules/CommonMath\";\nimport * as SC from \"./smv_modules/SceneControl\";\nimport { getHeadingWord, convertToLocalTime } from \"./smv_modules/UIHelpers\";\nimport * as ANIMATIONS from \"./smv_modules/Animations\";\n\nimport \"../node_modules/bootstrap/dist/css/bootstrap.css\";\n\nimport CompassWord from \"./components/CompassWord.vue\";\nimport { isMobilePhoneBrowser } from \"./smv_modules/Utilities\";\n\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      title: \"太阳视运动可视化\",\n\n      latDegFixed1: 36.7,\n      latRad: 0.6399541,\n\n      subSolarPointLatDeg: 15,\n      // time of the day in minutes\n      timeMinutes: 510,\n\n      // solar altitude angle\n      solarAltitudeAngleDeg: 0,\n\n      // this includes animation periods\n      isGroundView: false,\n      // this does not include animation periods\n      isGroundControlsShow: false,\n\n      windowIntervalHandlerNumber: -1,\n\n      currentHeadingRad: 0,\n\n      isAboutShow: false,\n\n      isMobilePhoneBrowser: isMobilePhoneBrowser(),\n\n      isControlsWrapperFolded: false,\n    };\n  },\n\n  mounted() {\n    initWebGLData(this);\n    setUpWebGL(this);\n    SC.updateSunPosition(\n      this,\n      this.latRad,\n      this.timeMinutes,\n      this.subSolarPointLatDeg\n    );\n\n    window.onclick = () => {\n      if (this.isAboutShow) {\n        ANIMATIONS.hideAbout(() => {\n          this.isAboutShow = false;\n        });\n      }\n    };\n  },\n\n  watch: {\n    latDegFixed1(newVal) {\n      this.latRad = toRad(newVal);\n    },\n\n    sunPositionParams(newVal, oldVal) {\n      if (!this.isGroundControlsShow) {\n        return;\n      }\n\n      SC.updateSunPosition(this, newVal[0], newVal[1], newVal[2]);\n\n      if (newVal[0] != oldVal[0] || newVal[2] != oldVal[2]) {\n        SC.updateSunTrackLine(this, newVal[0], newVal[2]);\n      }\n    },\n  },\n\n  computed: {\n    localTime() {\n      return convertToLocalTime(this.timeMinutes);\n    },\n    sunPositionParams() {\n      return [this.latRad, this.timeMinutes, this.subSolarPointLatDeg];\n    },\n    compassRotationRad() {\n      return -this.currentHeadingRad;\n    },\n    // N E S W\n    compassWordTranslates() {\n      return calculateCompassWordTranslates(this.currentHeadingRad);\n    },\n    currentHeadingRoundedDeg() {\n      let headingRounded = Math.round(toDeg(this.currentHeadingRad));\n      if (headingRounded === 360) {\n        headingRounded = 0;\n      }\n      return headingRounded;\n    },\n    currentHeadingWord() {\n      return getHeadingWord(this.currentHeadingRoundedDeg);\n    },\n  },\n\n  methods: {\n    adjLatDegFixed1(mode) {\n      if (mode == 0) {\n        this.latDegFixed1 = parseFloat(\n          (this.latDegFixed1 - 0.1 < -90\n            ? -90\n            : this.latDegFixed1 - 0.1\n          ).toFixed(1)\n        );\n      } else {\n        this.latDegFixed1 = parseFloat(\n          (this.latDegFixed1 + 0.1 > 90 ? 90 : this.latDegFixed1 + 0.1).toFixed(\n            1\n          )\n        );\n      }\n    },\n    adjSubSolarPointLatDeg(mode) {\n      if (mode == 0) {\n        this.subSolarPointLatDeg = parseFloat(\n          (this.subSolarPointLatDeg - 0.1 < -23.5\n            ? -23.5\n            : this.subSolarPointLatDeg - 0.1\n          ).toFixed(1)\n        );\n      } else {\n        this.subSolarPointLatDeg = parseFloat(\n          (this.subSolarPointLatDeg + 0.1 > 23.5\n            ? 23.5\n            : this.subSolarPointLatDeg + 0.1\n          ).toFixed(1)\n        );\n      }\n    },\n    adjLocalTime(mode) {\n      if (mode == 0) {\n        this.timeMinutes =\n          this.timeMinutes - 1 < 0 ? 1439 : this.timeMinutes - 1;\n      } else {\n        this.timeMinutes =\n          this.timeMinutes + 1 > 1439 ? 0 : this.timeMinutes + 1;\n      }\n    },\n\n    changeToGroundView() {\n      SC.changeToGroundView(this);\n    },\n    exitGroundView() {\n      SC.exitGroundView(this);\n    },\n    switchGroundView() {\n      SC.switchGroundView(this);\n    },\n\n    switchAutoPlay() {\n      if (!this.isGroundControlsShow) {\n        return;\n      }\n\n      if (this.windowIntervalHandlerNumber == -1) {\n        this.windowIntervalHandlerNumber = window.setInterval(() => {\n          if (this.timeMinutes + 1 > 23 * 60 + 59) {\n            this.timeMinutes = 0;\n          } else {\n            this.timeMinutes++;\n          }\n        }, autoPlayIntervalMs);\n      } else {\n        window.clearInterval(this.windowIntervalHandlerNumber);\n        this.windowIntervalHandlerNumber = -1;\n      }\n    },\n    showAbout() {\n      if (this.isAboutShow) {\n        return;\n      }\n\n      this.isAboutShow = true;\n\n      ANIMATIONS.showAbout();\n    },\n    foldControlsWrapper() {\n      this.isControlsWrapperFolded = true;\n    },\n    unfoldControlsWrapper() {\n      this.isControlsWrapperFolded = false;\n    },\n  },\n  components: {\n    CompassWord,\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@mixin slim-scroll-bar {\n  &::-webkit-scrollbar {\n    width: 5px;\n    height: 5px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgb(145, 145, 145);\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background-color: rgb(160, 160, 160);\n  }\n\n  &::-webkit-scrollbar-thumb:active {\n    background-color: rgb(175, 175, 175);\n  }\n\n  &::-webkit-scrollbar-track {\n    background-color: rgba(220, 220, 220, 0.2);\n    border-radius: 3px;\n  }\n}\n\n.div-controls-wrapper {\n  position: absolute;\n  left: 0;\n  top: 0;\n\n  height: 100vh;\n  width: 250px;\n\n  overflow-y: auto;\n\n  background-color: rgba(0, 0, 0, 0.3);\n\n  transition-duration: 300ms;\n\n  @include slim-scroll-bar;\n}\n\n.div-controls-wrapper-folded {\n  transform: translateX(-100%);\n}\n\n.div-adjust {\n  width: 49%;\n  color: white;\n  background-color: rgba(255, 255, 255, 0.3);\n  border-radius: 3px;\n  text-align: center;\n  transition-duration: 200ms;\n}\n\n.div-adjust:hover {\n  background-color: rgba(255, 255, 255, 0.4);\n}\n\n.div-adjust:active {\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.lbl-common-text {\n  color: white;\n  font-size: small;\n}\n\n.lbl-guide {\n  margin: 15px 10px 10px;\n}\n\n.div-common-control-block {\n  margin: 10px 20px 10px;\n  height: fit-content;\n}\n\n.in-lat-deg {\n  height: 100%;\n  background-color: transparent;\n  color: white;\n  border: 1px solid white;\n  border-radius: 3px;\n  margin-right: 20px;\n}\n\n.lbl-data-display {\n  font-size: 20px;\n  color: white;\n}\n\n.tr-ground-view-enter-active,\n.tr-ground-view-leave-active {\n  transition: opacity 500ms ease;\n}\n\n.tr-ground-view-enter-from,\n.tr-ground-view-leave-to {\n  opacity: 0;\n}\n\n.div-compass-wrapper {\n  position: absolute;\n  bottom: 30px;\n  right: 30px;\n\n  filter: drop-shadow(5px 5px 5px black);\n  opacity: 0;\n}\n\n.img-comp {\n  width: 200px;\n  height: 200px;\n}\n\n.lbl-center-info {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n\n  color: white;\n}\n\n.lbl-center-info-u {\n  font-size: 18px;\n  transform: translate(-50%, -23px);\n}\n\n.lbl-center-info-l {\n  font-size: 15px;\n  transform: translate(-50%, 5px);\n}\n\n.div-bottom-controls {\n  margin: auto 10px 10px;\n}\n\n@mixin svg-hover-color {\n  fill: #ccc;\n  transition: 200ms;\n  transition-timing-function: ease-in-out;\n\n  &:hover {\n    fill: #fff;\n  }\n}\n\n.svg-bottom-control {\n  width: 27px;\n  height: 27px;\n\n  cursor: pointer;\n\n  @include svg-hover-color;\n}\n\n@keyframes svg-unfold-in {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n\n.svg-unfold {\n  // 理论上position应该设为fixed，但在手机微信浏览器上position:fixed的元素位置会随屏幕滑动而微小改变\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n\n  width: 32px;\n  height: 32px;\n\n  cursor: pointer;\n\n  animation-duration: 300ms;\n  animation-name: svg-unfold-in;\n\n  @include svg-hover-color;\n}\n\n.div-about-wrapper {\n  position: fixed;\n\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  width: m#{i}n(768px, 80vw);\n  max-height: 80vh;\n  overflow-y: auto;\n\n  font-size: small;\n  color: white;\n\n  background-color: rgba(0, 0, 0, 0.75);\n\n  opacity: 0;\n\n  padding: 20px;\n\n  @include slim-scroll-bar;\n}\n</style>\n","function isMobilePhoneBrowser() {\r\n    const uaLowerCase = navigator.userAgent.toLowerCase();\r\n    return uaLowerCase.includes(\"android\")\r\n        || uaLowerCase.includes(\"harmony\")\r\n        || uaLowerCase.includes(\"iphone\")\r\n        || uaLowerCase.includes(\"mobile\");\r\n}\r\n\r\nexport { isMobilePhoneBrowser };","import { isMobilePhoneBrowser } from \"./Utilities\"\r\n\r\n// earth model radius corresponding to the value set in 3dmax\r\nconst earthRadius = 100\r\n// camera height above ground in groundView\r\nconst hCamera = 0.05\r\n// Sun Rise/Set line above ground\r\nconst hRiseSetLine = 0.15\r\n// sky sphere radius in skySphereView\r\nconst skySphereRadius = 100\r\n\r\n// distance scale to real calculated sun distance\r\n// set slightly lower for sunlight to avoid flashing\r\nconst sunLightDistanceScale = 0.98\r\nconst sunTrackDistanceScale = 1\r\n\r\n// static file path\r\nconst modelPath = \"./static/\"\r\n\r\n// orthographic camera horizontal size\r\nconst cameraOuterHorizontalSize = isMobilePhoneBrowser() ? 150 : 300\r\n\r\n// local time autoplay interval in ms\r\nconst autoPlayIntervalMs = 20\r\n\r\n// ground plane texture repeat count\r\nconst textureRepeatCount = 3000\r\n\r\n// compass size info in px\r\nconst wordCenterCircleRadius = 62\r\nconst divSize = 200\r\nconst labelWidth = 25\r\nconst labelHeight = 35\r\n\r\nexport {\r\n    earthRadius,\r\n    hCamera,\r\n    hRiseSetLine,\r\n    skySphereRadius,\r\n    sunLightDistanceScale,\r\n    sunTrackDistanceScale,\r\n    modelPath,\r\n    cameraOuterHorizontalSize,\r\n    autoPlayIntervalMs,\r\n    textureRepeatCount,\r\n    wordCenterCircleRadius,\r\n    divSize,\r\n    labelWidth,\r\n    labelHeight\r\n}","function toDeg(rad) {\r\n    return 180 * rad / Math.PI\r\n}\r\n\r\nfunction toRad(deg) {\r\n    return Math.PI * deg / 180\r\n}\r\n\r\nexport {\r\n    toDeg,\r\n    toRad\r\n}","import {\r\n    earthRadius,\r\n    skySphereRadius,\r\n    wordCenterCircleRadius,\r\n    divSize,\r\n    labelWidth,\r\n    labelHeight\r\n} from \"./AppConstants\"\r\n\r\nimport { toRad } from \"./CommonMath\"\r\n\r\nconst floatEps = 0.0001\r\nconst halfPi = Math.PI / 2\r\n\r\nfunction updateSprites(camera, sprites) {\r\n    const posScales = [\r\n        1.2, 1.2, 1.25, 1.3,\r\n        1.3,\r\n        1.3, 1.25, 1.2, 1.2\r\n    ]\r\n\r\n    for (const i of sprites) {\r\n        const camX = camera.position.x\r\n        const camZ = camera.position.z\r\n\r\n        const z0 = Math.sqrt(\r\n            (earthRadius ** 2 * camX ** 2) / (camX ** 2 + camZ ** 2))\r\n\r\n        const targetX = -Math.cos(i.smvLatRad) * z0 * camZ / camX\r\n        const targetZ = Math.cos(i.smvLatRad) * z0\r\n        const targetY = Math.sin(i.smvLatRad) * earthRadius\r\n\r\n        if (i.smvSide == 0) {\r\n            i.position.x = targetX * posScales[i.smvLatType]\r\n            i.position.y = targetY * posScales[i.smvLatType]\r\n            i.position.z = targetZ * posScales[i.smvLatType]\r\n        }\r\n        else {\r\n            i.position.x = -targetX * posScales[i.smvLatType]\r\n            i.position.y = targetY * posScales[i.smvLatType]\r\n            i.position.z = -targetZ * posScales[i.smvLatType]\r\n        }\r\n    }\r\n}\r\n\r\nfunction calculateSunPosition(latRad, timeMinutes, subSolarPointLatDeg) {\r\n    const s = toRad(subSolarPointLatDeg)\r\n    const d = Math.sin(s)\r\n    const l = Math.cos(s)\r\n\r\n    const sinAlpha = Math.sin(latRad)\r\n    const cosAlpha = Math.cos(latRad)\r\n    const cosTheta = Math.cos(Math.PI * timeMinutes / (24 * 30))\r\n\r\n    let x = 0\r\n    let y = 0\r\n    let z = 0\r\n\r\n    // 90N\r\n    if (Math.abs(latRad - halfPi) <= floatEps) {\r\n        x = d\r\n        y = l * cosTheta\r\n        z = isNoonOrMidnight(timeMinutes) ? 0 : Math.sqrt(l ** 2 - y ** 2)\r\n    }\r\n    // 90S\r\n    else if (Math.abs(latRad + halfPi) <= floatEps) {\r\n        x = -d\r\n        y = -l * cosTheta\r\n        z = isNoonOrMidnight(timeMinutes) ? 0 : Math.sqrt(l ** 2 - y ** 2)\r\n    }\r\n    else {\r\n        const xc = d * sinAlpha\r\n        const yc = d * cosAlpha\r\n\r\n        x = -l * cosAlpha * cosTheta + xc\r\n        y = (xc - x) * Math.tan(latRad) + yc\r\n        z = isNoonOrMidnight(timeMinutes)\r\n            ? 0\r\n            : Math.sqrt(l ** 2 - (x - xc) ** 2 - (y - yc) ** 2)\r\n    }\r\n\r\n    if (timeMinutes < 12 * 60) {\r\n        z = -z\r\n    }\r\n\r\n    return [x * skySphereRadius, y * skySphereRadius, z * skySphereRadius]\r\n}\r\n\r\nfunction calculateSunRiseSetPosition(latRad, subSolarPointLatDeg) {\r\n    const s = toRad(subSolarPointLatDeg)\r\n    const d = Math.sin(s)\r\n    const l = Math.cos(s)\r\n\r\n    const sinAlpha = Math.sin(latRad)\r\n    const cosAlpha = Math.cos(latRad)\r\n\r\n    let sunriseY = 0\r\n    let sunriseZ = 0\r\n\r\n    let sunsetY = 0\r\n    let sunsetZ = 0\r\n\r\n    if (Math.abs(latRad - halfPi) > floatEps\r\n        && Math.abs(latRad + halfPi) > floatEps\r\n        && Math.abs(latRad) < Math.abs(\r\n            Math.PI / 2 - Math.abs(toRad(subSolarPointLatDeg)))) {\r\n\r\n        const xc = d * sinAlpha\r\n        const yc = d * cosAlpha\r\n\r\n        sunriseY = sunsetY = xc ** 2 / yc + yc\r\n\r\n        sunriseZ = -Math.sqrt(l ** 2 - xc ** 2 - xc ** 4 / yc ** 2)\r\n        sunsetZ = -sunriseZ\r\n\r\n        sunriseY *= skySphereRadius\r\n        sunriseZ *= skySphereRadius\r\n        sunsetY *= skySphereRadius\r\n        sunsetZ *= skySphereRadius\r\n    }\r\n\r\n    return [sunriseY, sunriseZ, sunsetY, sunsetZ]\r\n}\r\n\r\nfunction isNoonOrMidnight(timeMinutes) {\r\n    return timeMinutes == 0 || timeMinutes == 12 * 60\r\n}\r\n\r\nfunction calculateCompassWordTranslates(currentHeadingRad) {\r\n    // all size in px\r\n\r\n    const translates = [\r\n        {\r\n            x: 0,\r\n            y: 0\r\n        },\r\n        {\r\n            x: 0,\r\n            y: 0\r\n        },\r\n        {\r\n            x: 0,\r\n            y: 0\r\n        },\r\n        {\r\n            x: 0,\r\n            y: 0\r\n        },\r\n    ]\r\n\r\n    const rotationOffsetsRad = [0, Math.PI / 2, Math.PI, 3 * Math.PI / 2]\r\n\r\n    for (const i in translates) {\r\n        const targetRotationRad = rotationOffsetsRad[i] - currentHeadingRad\r\n\r\n        let targetTranslateX =\r\n            wordCenterCircleRadius * Math.sin(targetRotationRad) + divSize / 2\r\n        let targetTranslateY =\r\n            divSize / 2 - wordCenterCircleRadius * Math.cos(targetRotationRad)\r\n\r\n        targetTranslateX -= labelWidth / 2\r\n        targetTranslateY -= labelHeight / 2\r\n\r\n        translates[i].x = targetTranslateX\r\n        translates[i].y = targetTranslateY\r\n    }\r\n\r\n    return translates\r\n}\r\n\r\nexport {\r\n    updateSprites,\r\n    calculateSunPosition,\r\n    calculateSunRiseSetPosition,\r\n    calculateCompassWordTranslates\r\n}","import * as THREE from \"three\"\r\n\r\nimport {\r\n    calculateSunPosition,\r\n    calculateSunRiseSetPosition\r\n} from \"./GeoMath\"\r\nimport { toRad } from \"./CommonMath\"\r\nimport {\r\n    hRiseSetLine,\r\n    sunTrackDistanceScale,\r\n    modelPath\r\n} from \"./AppConstants\"\r\n\r\nfunction generateLatLine(earthRadius, latDeg, color, isDashed) {\r\n    const curve = new THREE.EllipseCurve(\r\n        0,\r\n        0,\r\n        earthRadius * Math.cos(toRad(latDeg)) + 0.5,\r\n        earthRadius * Math.cos(toRad(latDeg)) + 0.5,\r\n        0,\r\n        2 * Math.PI,\r\n        false,\r\n        Math.PI / 2\r\n    )\r\n\r\n    const geometry = new THREE.BufferGeometry()\r\n        .setFromPoints(curve.getPoints(100))\r\n\r\n    geometry.rotateX(Math.PI / 2)\r\n    geometry.translate(0, earthRadius * Math.sin(toRad(latDeg)), 0)\r\n\r\n\r\n    let material = undefined\r\n\r\n    if (isDashed) {\r\n        material = new THREE.LineDashedMaterial(\r\n            { color: color, dashSize: 3, gapSize: 2 })\r\n    }\r\n    else {\r\n        material = new THREE.LineBasicMaterial({ color: color })\r\n    }\r\n\r\n    return new THREE.Line(geometry, material).computeLineDistances()\r\n}\r\n\r\n// side: 0 - left; 1 - right\r\nfunction generateLatSprite(latDeg, latType, textureName, side, scaleXToY) {\r\n    const texture = new THREE.TextureLoader().load(modelPath + textureName)\r\n    const spriteMaterial = new THREE.SpriteMaterial({ map: texture })\r\n    const sprite = new THREE.Sprite(spriteMaterial)\r\n    sprite.scale.set(12 * scaleXToY, 12, 1)\r\n    sprite.smvLatRad = toRad(latDeg)\r\n    sprite.smvLatType = latType\r\n    sprite.smvSide = side\r\n\r\n    return sprite\r\n}\r\n\r\n\r\n// generates a group of line and sprite of\r\n// 0, 30, 60, the tropic of cancer and capricorn and polar circles.\r\nfunction generateLatData(earthRadius) {\r\n    const latGroup = new THREE.Group()\r\n    const spriteGroup = new THREE.Group()\r\n\r\n    const lats = [\r\n        -66.5, -60, -30, -23.5,\r\n        0,\r\n        23.5, 30, 60, 66.5]\r\n\r\n    const latsForSprites = [\r\n        -66.5, -55, -30, -20,\r\n        0,\r\n        20, 30, 55, 66.5]\r\n\r\n    const colors = [\r\n        0x87CEFA, 0xffffff, 0xffffff, 0xFF00FF,\r\n        0xffffff,\r\n        0xFF00FF, 0xffffff, 0xffffff, 0x87CEFA]\r\n\r\n    const isDashed = [\r\n        true, false, false, true,\r\n        false,\r\n        true, false, false, true\r\n    ]\r\n\r\n    const spriteTextureNames = [\r\n        \"pcs.png\", \"60s.png\", \"30s.png\", \"tocs.png\",\r\n        \"equa.png\",\r\n        \"tocn.png\", \"30n.png\", \"60n.png\", \"pcn.png\"\r\n    ]\r\n\r\n    const scaleXToYs = [\r\n        2, 1.75, 1.75, 2.5,\r\n        2,\r\n        2.5, 1.75, 1.75, 2\r\n    ]\r\n\r\n    for (const i in lats) {\r\n        latGroup.add(generateLatLine(earthRadius, lats[i], colors[i], isDashed[i]))\r\n        spriteGroup.add(generateLatSprite(\r\n            latsForSprites[i], i, spriteTextureNames[i], 0, scaleXToYs[i]))\r\n        spriteGroup.add(generateLatSprite(\r\n            latsForSprites[i], i, spriteTextureNames[i], 1, scaleXToYs[i]))\r\n    }\r\n\r\n    return new THREE.Group().add(latGroup, spriteGroup)\r\n}\r\n\r\nfunction generateSunTrackLine(\r\n    latRad,\r\n    subSolarPointLatDeg,\r\n    addRiseSet = false,\r\n    pointCount = 100,\r\n    lineColor = 0xffffff) {\r\n\r\n    const points = []\r\n    for (let i = 0; i < pointCount; i++) {\r\n        const timeMinutes = 24 * 60 * i / pointCount\r\n\r\n        const pointPosition = calculateSunPosition(\r\n            latRad, timeMinutes, subSolarPointLatDeg)\r\n\r\n        points.push(\r\n            new THREE.Vector3(\r\n                pointPosition[0] * sunTrackDistanceScale,\r\n                pointPosition[1] * sunTrackDistanceScale,\r\n                pointPosition[2] * sunTrackDistanceScale))\r\n    }\r\n\r\n    const geometry = new THREE.BufferGeometry().setFromPoints(points)\r\n    const material = new THREE.LineBasicMaterial({ color: lineColor })\r\n\r\n    const trackLine = new THREE.LineLoop(geometry, material)\r\n\r\n    if (addRiseSet) {\r\n        const riseSetPosition = calculateSunRiseSetPosition(\r\n            latRad, subSolarPointLatDeg)\r\n\r\n        const rsGeometry = new THREE.BufferGeometry().setFromPoints([\r\n            new THREE.Vector3(\r\n                hRiseSetLine, riseSetPosition[0], riseSetPosition[1]),\r\n            new THREE.Vector3(\r\n                hRiseSetLine, riseSetPosition[2], riseSetPosition[3])\r\n        ])\r\n\r\n        const rsMaterial = new THREE.LineDashedMaterial(\r\n            { color: 0xff0000, dashSize: 10, gapSize: 5 })\r\n\r\n        trackLine.add(new THREE.Line(rsGeometry, rsMaterial)\r\n            .computeLineDistances())\r\n    }\r\n\r\n    return trackLine\r\n}\r\n\r\nexport { generateLatData, generateSunTrackLine }","class SMVDragControls {\r\n    constructor(camera, domElement) {\r\n\r\n        this.moveScale = 1\r\n\r\n        this.enabled = true\r\n\r\n        this.fovScale = 1\r\n\r\n        this.maxFov = 80\r\n        this.minFov = 50\r\n\r\n        this.onHeadingChange = undefined\r\n\r\n        this._isMouseDown = false\r\n\r\n        this._previousPageX = 0\r\n        this._previousPageY = 0\r\n\r\n        domElement.addEventListener(\"wheel\", e => {\r\n            if (!this.enabled) {\r\n                return\r\n            }\r\n\r\n            if (e.deltaY > 0) {\r\n                if (camera.fov + 5 * this.fovScale > this.maxFov) {\r\n                    camera.fov = this.maxFov\r\n                }\r\n                else {\r\n                    camera.fov += 5 * this.fovScale\r\n                }\r\n            }\r\n            else if (e.deltaY < 0) {\r\n                if (camera.fov - 5 * this.fovScale < this.minFov) {\r\n                    camera.fov = this.minFov\r\n                }\r\n                else {\r\n                    camera.fov -= 5 * this.fovScale\r\n                }\r\n            }\r\n\r\n            camera.updateProjectionMatrix()\r\n        })\r\n\r\n        domElement.addEventListener(\"pointerdown\", e => {\r\n            this._isMouseDown = true\r\n            this._previousPageX = e.pageX\r\n            this._previousPageY = e.pageY\r\n        })\r\n\r\n        domElement.addEventListener(\"pointerup\", () => {\r\n            this._isMouseDown = false\r\n        })\r\n\r\n        domElement.addEventListener(\"pointermove\", e => {\r\n            if (!this.enabled) {\r\n                return\r\n            }\r\n\r\n            if (this._isMouseDown) {\r\n                const movementX = e.pageX - this._previousPageX\r\n                const movementY = e.pageY - this._previousPageY\r\n\r\n                this._previousPageX = e.pageX\r\n                this._previousPageY = e.pageY\r\n\r\n                const scaledMoveX = movementX * this.moveScale * 0.01\r\n                // rotation.x limited within [0,2Pi)\r\n                if (camera.rotation.x - scaledMoveX < 0) {\r\n                    camera.rotation.x = Math.PI * 2 + camera.rotation.x - scaledMoveX\r\n                }\r\n                else if (camera.rotation.x - scaledMoveX >= Math.PI * 2) {\r\n                    camera.rotation.x = camera.rotation.x - scaledMoveX - Math.PI * 2\r\n                }\r\n                else {\r\n                    camera.rotation.x -= scaledMoveX\r\n                }\r\n\r\n                //console.log(camera.rotation.x)\r\n\r\n                const halfPi = Math.PI / 2\r\n\r\n                const scaledMoveY = movementY * this.moveScale * 0.01\r\n                // rotation.y limited within [-Pi/2,Pi/2]\r\n                if (camera.rotation.y + scaledMoveY > halfPi) {\r\n                    camera.rotation.y = halfPi\r\n                }\r\n                else if (camera.rotation.y + scaledMoveY < -halfPi) {\r\n                    camera.rotation.y = -halfPi\r\n                }\r\n                else {\r\n                    camera.rotation.y += scaledMoveY\r\n                }\r\n\r\n                if (this.onHeadingChange) {\r\n                    let correctedHeadingRad = -camera.rotation.x + 2.5 * Math.PI\r\n                    if (correctedHeadingRad >= Math.PI * 2) {\r\n                        correctedHeadingRad -= Math.PI * 2\r\n                    }\r\n                    this.onHeadingChange(correctedHeadingRad)\r\n                }\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport { SMVDragControls }","import { gsap, Power1 } from \"gsap\"\r\n\r\nfunction showCompass(duration = 0.5, completed = () => { }) {\r\n    gsap.to(\".div-compass-wrapper\", {\r\n        duration: duration,\r\n        opacity: 0.95,\r\n        ease: Power1.easeIn,\r\n        onComplete: completed\r\n    })\r\n}\r\n\r\nfunction hideCompass(duration = 1, completed = () => { }) {\r\n    gsap.to(\".div-compass-wrapper\", {\r\n        duration: duration,\r\n        opacity: 0,\r\n        ease: Power1.easeOut,\r\n        onComplete: completed\r\n    })\r\n}\r\n\r\nfunction showAbout() {\r\n    gsap.to(\".div-about-wrapper\", {\r\n        duration: 0.5,\r\n        opacity: 1,\r\n        ease: Power1.easeIn\r\n    })\r\n}\r\n\r\nfunction hideAbout(completed = () => { }) {\r\n    gsap.to(\".div-about-wrapper\", {\r\n        duration: 0.5,\r\n        opacity: 0,\r\n        ease: Power1.easeOut,\r\n        onComplete: completed\r\n    })\r\n}\r\n\r\nfunction showGroundPlane(material) {\r\n    gsap.to(material, {\r\n        duration: 1,\r\n        opacity: 1,\r\n        ease: Power1.easeIn\r\n    })\r\n}\r\n\r\nfunction hideGroundPlane(material, completed = () => { }) {\r\n    gsap.to(material, {\r\n        duration: 1,\r\n        opacity: 0,\r\n        ease: Power1.easeOut,\r\n        onComplete: completed\r\n    })\r\n}\r\n\r\nexport {\r\n    showCompass,\r\n    hideCompass,\r\n    showAbout,\r\n    hideAbout,\r\n    showGroundPlane,\r\n    hideGroundPlane\r\n}","import * as THREE from \"three\"\r\n\r\nimport {\r\n    hCamera,\r\n    sunLightDistanceScale,\r\n    sunTrackDistanceScale\r\n} from \"./AppConstants\"\r\nimport {\r\n    calculateSunPosition\r\n} from \"./GeoMath\"\r\nimport { toDeg } from \"./CommonMath\"\r\nimport { generateSunTrackLine } from \"./ObjectGenerators\"\r\nimport * as ANIMATIONS from \"./Animations\"\r\n\r\nfunction changeToGroundView(app) {\r\n    if (app.isGroundView) {\r\n        return\r\n    }\r\n\r\n    app.isGroundView = true\r\n    app.orbitControlsOuter.enabled = false\r\n    app.latData.visible = false\r\n    app.sunLight.children[0].visible = true\r\n\r\n    app.groundPlaneMesh.visible=true\r\n\r\n    updateSunPosition(app,app.latRad, app.timeMinutes, app.subSolarPointLatDeg)\r\n\r\n    // save current camera state\r\n    app.previousCameraZoom = app.cameraOuter.zoom\r\n    app.previousCameraPosition = app.cameraOuter.position.clone()\r\n    app.previousCameraQuaternion = app.cameraOuter.quaternion.clone()\r\n\r\n    // prepare and play transition animations\r\n    const cameraPositionTrack = new THREE.VectorKeyframeTrack(\r\n        \"camera.position\",\r\n        [0, 1],\r\n        [\r\n            app.cameraOuter.position.x,\r\n            app.cameraOuter.position.y,\r\n            app.cameraOuter.position.z,\r\n            hCamera,\r\n            0,\r\n            0\r\n        ],\r\n        THREE.InterpolateSmooth)\r\n\r\n    // in particular, we calculate the quaternion (for lookAt) with a camera hijack.\r\n    // that is, we put a copy of current camera to our desired state and get its\r\n    // quaternion. then make a quaternion animation for our active camera.\r\n    const cameraCopy = app.camera.clone()\r\n    cameraCopy.position.set(hCamera, 0, 0)\r\n    cameraCopy.lookAt(hCamera, 1, 0)\r\n    cameraCopy.rotation.z = -Math.PI / 2\r\n\r\n    const cameraQuaternionTrack = new THREE.QuaternionKeyframeTrack(\r\n        \"camera.quaternion\",\r\n        [0, 1],\r\n        [app.cameraOuter.quaternion.x, app.cameraOuter.quaternion.y,\r\n            app.cameraOuter.quaternion.z, app.cameraOuter.quaternion.w,\r\n        cameraCopy.quaternion.x, cameraCopy.quaternion.y,\r\n        cameraCopy.quaternion.z, cameraCopy.quaternion.w\r\n        ]\r\n    )\r\n\r\n    const cameraClip =\r\n        new THREE.AnimationClip(\r\n            \"clip-camera\", 1, [cameraPositionTrack, cameraQuaternionTrack])\r\n\r\n    const mixerCamera = new THREE.AnimationMixer(app.camera)\r\n\r\n    const cameraAction = mixerCamera.clipAction(cameraClip)\r\n\r\n    cameraAction.loop = THREE.LoopOnce\r\n\r\n    mixerCamera.addEventListener(\"finished\", e => {\r\n        e.action.stop()\r\n        app.camera.position.set(hCamera, 0, 0)\r\n        app.camera.setRotationFromQuaternion(cameraCopy.quaternion)\r\n        app.camera.updateProjectionMatrix()\r\n\r\n        app.sunTrackLineGroup.children[0] = generateSunTrackLine(\r\n            app.latRad, app.subSolarPointLatDeg)\r\n        app.sunTrackLineGroup.visible = true\r\n\r\n        app.earthMesh.visible = false\r\n\r\n        app.arrowMesh.position.set(0, 0, 0)\r\n        app.arrowMesh.rotation.z = Math.PI / 2\r\n        app.arrowMesh.visible = true\r\n\r\n        app.isGroundControlsShow = true\r\n        app.smvDragControls.enabled = true\r\n        app.scene.background = app.sceneBackgroundColor\r\n\r\n        app.sunLight.intensity = 1\r\n        app.ambientLight.intensity = 0.35\r\n    })\r\n\r\n    app.mixers = [mixerCamera]\r\n\r\n    cameraAction.play()\r\n\r\n    ANIMATIONS.showGroundPlane(app.groundPlaneMesh.material)\r\n\r\n    ANIMATIONS.showCompass()\r\n}\r\n\r\nfunction switchGroundView(app) {\r\n    // prevent repeated click during fade\r\n    if (!app.isGroundControlsShow) {\r\n        return\r\n    }\r\n\r\n    if (!app.isSkySphereView) {\r\n        app.scene.rotation.z = Math.PI / 2\r\n        app.sunTrackLineGroup.children[0].rotation.z = Math.PI / 2\r\n        app.smvDragControls.enabled = false\r\n\r\n        app.cameraOuter.position.set(372,196,330)\r\n        app.cameraOuter.zoom = 1.0\r\n        app.cameraOuter.updateProjectionMatrix()\r\n\r\n        app.orbitControlsOuter.enabled = true\r\n\r\n        app.sunLight.intensity = 0.6\r\n        app.ambientLight.intensity = 0.5\r\n\r\n        app.sunLight.children[0].visible = false\r\n        app.littleSunMesh.visible = true\r\n\r\n        app.arrowBigMesh.visible = true\r\n\r\n        app.skyCircleLine.visible = true\r\n        app.skySphereUMesh.visible = true\r\n        app.skySphereLMesh.visible = true\r\n    }\r\n    else {\r\n        app.scene.rotation.z = 0\r\n        app.sunTrackLineGroup.children[0].rotation.z = 0\r\n        app.smvDragControls.enabled = true\r\n\r\n        app.orbitControlsOuter.enabled = false\r\n\r\n        app.sunLight.intensity = 1\r\n        app.ambientLight.intensity = 0.35\r\n\r\n        app.sunLight.children[0].visible = true\r\n        app.littleSunMesh.visible = false\r\n\r\n        app.arrowBigMesh.visible = false\r\n\r\n        app.skyCircleLine.visible = false\r\n        app.skySphereUMesh.visible = false\r\n        app.skySphereLMesh.visible = false\r\n    }\r\n\r\n    app.isSkySphereView = !app.isSkySphereView\r\n\r\n    app.sunTrackLineGroup.children[0] = generateSunTrackLine(\r\n        app.latRad, app.subSolarPointLatDeg, app.isSkySphereView)\r\n    app.sunTrackLineGroup.children[0].rotation.z =\r\n        app.isSkySphereView ? Math.PI / 2 : 0\r\n}\r\n\r\nfunction exitGroundView(app) {\r\n    // prevent repeated click during fade\r\n    if (!app.isGroundControlsShow) {\r\n        return\r\n    }\r\n\r\n    if (app.isSkySphereView) {\r\n        app.scene.rotation.z = 0\r\n        app.sunTrackLineGroup.children[0].rotation.z = 0\r\n\r\n        app.littleSunMesh.visible = false\r\n\r\n        app.skyCircleLine.visible = false\r\n        app.skySphereUMesh.visible=false\r\n        app.skySphereLMesh.visible=false\r\n\r\n        app.isSkySphereView = false\r\n\r\n        app.arrowBigMesh.visible = false\r\n\r\n        app.groundPlaneMesh.visible=false\r\n    }\r\n    else {\r\n        ANIMATIONS.hideGroundPlane(app.groundPlaneMesh.material,\r\n            () => {\r\n                app.groundPlaneMesh.visible=false\r\n            })\r\n    }\r\n\r\n    app.earthMesh.visible = true\r\n\r\n    app.sunTrackLineGroup.visible = false\r\n    app.arrowMesh.visible = false\r\n\r\n    app.isGroundControlsShow = false\r\n    app.smvDragControls.enabled = false\r\n    app.scene.background = app.sceneBackgroundTexture\r\n    app.ambientLight.intensity = 1.3\r\n    app.sunLight.intensity = 0.5\r\n\r\n    app.sunLight.children[0].visible = false\r\n\r\n    if (app.windowIntervalHandlerNumber != -1) {\r\n        window.clearInterval(app.windowIntervalHandlerNumber)\r\n        app.windowIntervalHandlerNumber = -1\r\n    }\r\n\r\n    const cameraPositionTrack = new THREE.VectorKeyframeTrack(\r\n        \"camera.position\",\r\n        [0, 1],\r\n        [\r\n            app.camera.position.x,\r\n            app.camera.position.y,\r\n            app.camera.position.z,\r\n            app.previousCameraPosition.x,\r\n            app.previousCameraPosition.y,\r\n            app.previousCameraPosition.z\r\n        ],\r\n        THREE.InterpolateSmooth)\r\n\r\n    const cameraQuaternionTrack = new THREE.QuaternionKeyframeTrack(\r\n        \"camera.quaternion\",\r\n        [0, 1],\r\n        [\r\n            app.camera.quaternion.x,\r\n            app.camera.quaternion.y,\r\n            app.camera.quaternion.z,\r\n            app.camera.quaternion.w,\r\n            app.previousCameraQuaternion.x,\r\n            app.previousCameraQuaternion.y,\r\n            app.previousCameraQuaternion.z,\r\n            app.previousCameraQuaternion.w\r\n        ]\r\n    )\r\n\r\n    const cameraClip =\r\n        new THREE.AnimationClip(\r\n            \"clip-camera\", 1, [cameraPositionTrack, cameraQuaternionTrack])\r\n\r\n    const mixerCamera = new THREE.AnimationMixer(app.camera)\r\n\r\n    const cameraAction = mixerCamera.clipAction(cameraClip)\r\n\r\n    cameraAction.loop = THREE.LoopOnce\r\n\r\n    mixerCamera.addEventListener(\"finished\", e => {\r\n        e.action.stop()\r\n\r\n        app.camera.position.set(\r\n            app.previousCameraPosition.x,\r\n            app.previousCameraPosition.y,\r\n            app.previousCameraPosition.z)\r\n        app.camera.setRotationFromQuaternion(app.previousCameraQuaternion)\r\n        app.camera.updateProjectionMatrix()\r\n\r\n        app.cameraOuter.position.set(\r\n            app.previousCameraPosition.x,\r\n            app.previousCameraPosition.y,\r\n            app.previousCameraPosition.z)\r\n        app.cameraOuter.setRotationFromQuaternion(app.previousCameraQuaternion)\r\n        app.cameraOuter.zoom = app.previousCameraZoom\r\n        app.cameraOuter.updateProjectionMatrix()\r\n\r\n        app.isGroundView = false\r\n\r\n        app.orbitControlsOuter.enabled = true\r\n\r\n        app.latData.visible = true\r\n    })\r\n\r\n    app.mixers = [mixerCamera]\r\n\r\n    cameraAction.play()\r\n\r\n    ANIMATIONS.hideCompass(1, () => { app.currentHeadingRad = 0 })\r\n}\r\n\r\nfunction updateSunPosition(app,latRad, timeMinutes, subSolarPointLatDeg) {\r\n    const calculatedSunPosition =\r\n        calculateSunPosition(latRad, timeMinutes, subSolarPointLatDeg)\r\n\r\n    app.sunLight.position.set(\r\n        calculatedSunPosition[0] * sunLightDistanceScale,\r\n        calculatedSunPosition[1] * sunLightDistanceScale,\r\n        calculatedSunPosition[2] * sunLightDistanceScale\r\n    )\r\n\r\n    app.littleSunMesh.position.set(\r\n        calculatedSunPosition[0] * sunTrackDistanceScale,\r\n        calculatedSunPosition[1] * sunTrackDistanceScale,\r\n        calculatedSunPosition[2] * sunTrackDistanceScale\r\n    )\r\n\r\n    const angleWithNormalRad = Math.acos(\r\n        calculatedSunPosition[0] / Math.sqrt(\r\n            calculatedSunPosition[0] ** 2\r\n            + calculatedSunPosition[1] ** 2\r\n            + calculatedSunPosition[2] ** 2)\r\n    )\r\n\r\n    let solarAltitudeAngleRad = Math.PI / 2 - angleWithNormalRad\r\n    if (solarAltitudeAngleRad < 0) {\r\n        solarAltitudeAngleRad = 0\r\n    }\r\n\r\n    app.solarAltitudeAngleDeg = toDeg(solarAltitudeAngleRad)\r\n}\r\n\r\nfunction updateSunTrackLine(app,latRad,solarAltitudeAngleDeg) {\r\n    app.sunTrackLineGroup.children[0] = generateSunTrackLine(\r\n        latRad, solarAltitudeAngleDeg, app.isSkySphereView)\r\n\r\n    app.sunTrackLineGroup.children[0].rotation.z =\r\n        app.isSkySphereView ? Math.PI / 2 : 0\r\n}\r\n\r\nexport {\r\n    changeToGroundView,\r\n    switchGroundView,\r\n    exitGroundView,\r\n    updateSunPosition,\r\n    updateSunTrackLine\r\n}\r\n\r\n","import * as THREE from \"three\"\r\nimport { FBXLoader } from \"three/examples/jsm/loaders/FBXLoader\"\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\"\r\nimport { Lensflare, LensflareElement } from \"three/examples/jsm/objects/Lensflare\"\r\n\r\nimport {\r\n    earthRadius,\r\n    skySphereRadius,\r\n    modelPath,\r\n    cameraOuterHorizontalSize,\r\n    textureRepeatCount\r\n} from \"./AppConstants\"\r\nimport { generateLatData } from \"./ObjectGenerators\"\r\nimport { SMVDragControls } from \"./DragControls\"\r\nimport { updateSprites } from \"./GeoMath\"\r\nimport { toDeg } from \"./CommonMath\"\r\nimport { changeToGroundView } from \"./SceneControl\"\r\nimport { isMobilePhoneBrowser } from \"./Utilities\"\r\n\r\nfunction initWebGLData(app) {\r\n    // WebGL Data should not be placed in data() section. this will cause errors\r\n    app.canvasWidth = 0\r\n    app.canvasHeight = 0\r\n\r\n    app.scene = undefined\r\n\r\n    app.camera = undefined\r\n\r\n    app.cameraOuter = undefined\r\n\r\n    app.renderer = undefined\r\n\r\n    app.sceneBackgroundTexture = undefined\r\n\r\n    app.earthMesh = undefined\r\n\r\n    app.ambientLight = undefined\r\n\r\n    app.sunLight = undefined\r\n\r\n    app.latData = undefined\r\n\r\n    app.skyCircleLine = undefined\r\n    app.skySphereUMesh = undefined\r\n    app.skySphereLMesh = undefined\r\n\r\n    app.groundPlaneMesh = undefined\r\n    // use a group which permanently exists in scene to make track updates possible\r\n    app.sunTrackLineGroup = undefined\r\n\r\n    app.arrowMesh = undefined\r\n    app.arrowBigMesh = undefined\r\n\r\n    app.orbitControlsOuter = undefined\r\n\r\n    app.smvDragControls = undefined\r\n\r\n    app.rayCaster = undefined\r\n    app.mousePointer = undefined\r\n\r\n    app.clock = undefined\r\n\r\n    app.mixers = undefined\r\n\r\n    // camera state data before ground view\r\n    app.previousCameraZoom = undefined\r\n    app.previousCameraPosition = undefined\r\n    app.previousCameraQuaternion = undefined\r\n\r\n    // Interaction data\r\n    app.isMouseOnEarth = false\r\n}\r\n\r\nfunction setUpWebGL(app) {\r\n    ///////////////////////// Basic Setup /////////////////////////\r\n    app.canvasWidth = window.innerWidth\r\n    app.canvasHeight = window.innerHeight\r\n\r\n    app.scene = new THREE.Scene()\r\n\r\n    app.camera = new THREE.PerspectiveCamera(\r\n        60, app.canvasWidth / app.canvasHeight, 0.01, 10000)\r\n\r\n    app.cameraOuter = new THREE.OrthographicCamera(\r\n        -cameraOuterHorizontalSize,\r\n        cameraOuterHorizontalSize,\r\n        cameraOuterHorizontalSize * app.canvasHeight / app.canvasWidth,\r\n        -cameraOuterHorizontalSize * app.canvasHeight / app.canvasWidth,\r\n        0.1,\r\n        10000)\r\n\r\n\r\n    app.renderer = new THREE.WebGLRenderer({ alpha: true })\r\n\r\n    const textureLoader = new THREE.TextureLoader()\r\n\r\n    app.sceneBackgroundColor = new THREE.Color(0x000000)\r\n    if (!isMobilePhoneBrowser()) {\r\n        app.sceneBackgroundTexture = textureLoader.load(modelPath + \"starry.jpg\")\r\n        app.scene.background = app.sceneBackgroundTexture\r\n    }\r\n    else {\r\n        // 手机屏幕竖屏时星空背景图片拉伸变形严重，因此直接使用黑色背景\r\n        app.scene.background = app.sceneBackgroundColor\r\n    }\r\n\r\n    app.camera.name = \"camera\"\r\n    app.camera.position.set(218, 0, -83)\r\n    app.camera.lookAt(0, 0, 0)\r\n\r\n\r\n    app.cameraOuter.position.set(218, 0, -83)\r\n    app.cameraOuter.lookAt(0, 0, 0)\r\n\r\n\r\n    app.renderer.setSize(app.canvasWidth, app.canvasHeight)\r\n\r\n    document.body.append(app.renderer.domElement)\r\n\r\n    ///////////////////////// Model Loading /////////////////////////\r\n\r\n    // Earth\r\n    const loader = new FBXLoader()\r\n    loader.load(modelPath + \"earth.fbx\", obj => {\r\n        app.earthMesh = obj\r\n\r\n        obj.children[0].material.shininess = 80\r\n\r\n        app.scene.add(obj)\r\n    })\r\n\r\n    // Arrows\r\n    loader.load(modelPath + \"arrow.fbx\", obj => {\r\n        app.arrowMesh = obj\r\n        obj.visible = false\r\n        app.scene.add(obj)\r\n    })\r\n\r\n    loader.load(modelPath + \"arrow_big.fbx\", obj => {\r\n        app.arrowBigMesh = obj\r\n        app.arrowBigMesh.position.set(0, 0, 0)\r\n        app.arrowBigMesh.rotation.z = Math.PI / 2\r\n        obj.visible = false\r\n        app.scene.add(obj)\r\n    })\r\n\r\n    // Ground Plane\r\n    const groundPlaneGeometry = new THREE.CircleGeometry(skySphereRadius, 100)\r\n\r\n    const detailTexture = textureLoader.load(modelPath + \"detail.jpg\")\r\n    detailTexture.wrapS = THREE.RepeatWrapping\r\n    detailTexture.wrapT = THREE.RepeatWrapping\r\n    detailTexture.repeat.set(textureRepeatCount, textureRepeatCount)\r\n\r\n    const groundMaterial = new THREE.MeshStandardMaterial({\r\n        map: detailTexture,\r\n        side: THREE.DoubleSide\r\n    })\r\n    groundMaterial.transparent = true\r\n    groundMaterial.opacity = 0\r\n\r\n    app.groundPlaneMesh = new THREE.Mesh(groundPlaneGeometry, groundMaterial)\r\n    app.groundPlaneMesh.position.set(0, 0, 0)\r\n    app.groundPlaneMesh.rotation.x = Math.PI / 2\r\n    app.groundPlaneMesh.rotation.y = -Math.PI / 2\r\n    app.groundPlaneMesh.visible = false\r\n    app.scene.add(app.groundPlaneMesh)\r\n\r\n    // Little Sun (for skySphereView)\r\n    const littleSunGeometry = new THREE.SphereGeometry(5, 10, 10)\r\n    const littleSunMaterial = new THREE.MeshBasicMaterial({ color: 0xf0e68c })\r\n    app.littleSunMesh = new THREE.Mesh(littleSunGeometry, littleSunMaterial)\r\n    app.littleSunMesh.visible = false\r\n    app.scene.add(app.littleSunMesh)\r\n\r\n    // Sky Circle and Sky Sphere\r\n    const skyCircleCurve = new THREE.EllipseCurve(\r\n        0, 0, skySphereRadius, skySphereRadius)\r\n    const skyCircleGeometry = new THREE.BufferGeometry()\r\n        .setFromPoints(skyCircleCurve.getPoints(100))\r\n    const skyCircleMaterial = new THREE.LineDashedMaterial({\r\n        color: 0xff8c00,\r\n        dashSize: 6,\r\n        gapSize: 4,\r\n        transparent: true,\r\n        opacity: 0.6\r\n    })\r\n\r\n    app.skyCircleLine = new THREE.Line(skyCircleGeometry, skyCircleMaterial)\r\n        .computeLineDistances()\r\n    app.skyCircleLine.rotation.x = Math.PI / 2\r\n    app.skyCircleLine.visible = false\r\n\r\n    // current design is not to show this\r\n    //app.scene.add(app.skyCircleLine)\r\n\r\n    const skySphereUGeometry = new THREE.SphereGeometry(\r\n        skySphereRadius,\r\n        100, 100,\r\n        0, 2 * Math.PI,\r\n        0, Math.PI / 2\r\n    )\r\n\r\n    const skySphereLGeometry = new THREE.SphereGeometry(\r\n        skySphereRadius,\r\n        100, 100,\r\n        0, 2 * Math.PI,\r\n        0, Math.PI / 2\r\n    )\r\n\r\n    const skySphereUMaterial = new THREE.MeshBasicMaterial({\r\n        color: 0x1e90ff,\r\n        transparent: true,\r\n        opacity: 0.25,\r\n        side: THREE.DoubleSide\r\n    })\r\n    const skySphereLMaterial = new THREE.MeshBasicMaterial({\r\n        color: 0x808080,\r\n        transparent: true,\r\n        opacity: 0.25,\r\n        side: THREE.DoubleSide\r\n    })\r\n\r\n    app.skySphereUMesh = new THREE.Mesh(skySphereUGeometry, skySphereUMaterial)\r\n    app.skySphereLMesh = new THREE.Mesh(skySphereLGeometry, skySphereLMaterial)\r\n\r\n    app.skySphereUMesh.rotation.z = -Math.PI / 2\r\n    app.skySphereLMesh.rotation.z = Math.PI / 2\r\n\r\n    app.skySphereUMesh.visible = false\r\n    app.skySphereLMesh.visible = false\r\n\r\n    app.scene.add(app.skySphereUMesh, app.skySphereLMesh)\r\n\r\n    ///////////////////////// GeoElements Loading /////////////////////////\r\n\r\n    app.latData = generateLatData(100)\r\n\r\n    updateSprites(app.cameraOuter, app.latData.children[1].children)\r\n\r\n    app.scene.add(app.latData)\r\n\r\n    app.sunTrackLineGroup = new THREE.Group()\r\n    app.scene.add(app.sunTrackLineGroup)\r\n    //app.scene.add(new THREE.AxesHelper(200))\r\n\r\n    ///////////////////////// Light&Lensflare Setup /////////////////////////\r\n\r\n    app.ambientLight = new THREE.AmbientLight(0xffffff, 1.3)\r\n\r\n    app.sunLight = new THREE.DirectionalLight(0xffffff, 0.5)\r\n    app.sunLight.position.set(150, 180, 0)\r\n\r\n    const textureFlare0 = textureLoader.load(modelPath + \"lf0.png\")\r\n    const textureFlare3 = textureLoader.load(modelPath + \"lf1.png\")\r\n\r\n    const lensflare = new Lensflare()\r\n    lensflare.addElement(new LensflareElement(\r\n        textureFlare0, 700, 0, app.sunLight.color))\r\n    lensflare.addElement(new LensflareElement(textureFlare3, 60, 0.6))\r\n    lensflare.addElement(new LensflareElement(textureFlare3, 70, 0.7))\r\n    lensflare.addElement(new LensflareElement(textureFlare3, 120, 0.9))\r\n    lensflare.addElement(new LensflareElement(textureFlare3, 70, 1))\r\n    app.sunLight.add(lensflare)\r\n\r\n    app.sunLight.children[0].visible = false\r\n\r\n    app.scene.add(app.ambientLight)\r\n    app.scene.add(app.sunLight)\r\n\r\n    ///////////////////////// Control Setup /////////////////////////\r\n\r\n    app.orbitControlsOuter = new OrbitControls(\r\n        app.cameraOuter, app.renderer.domElement)\r\n    app.orbitControlsOuter.enableDamping = true // an animation loop is required when either damping or auto-rotation are enabled\r\n    app.orbitControlsOuter.dampingFactor = 0.05\r\n    app.orbitControlsOuter.minZoom = 0.7350918906249998\r\n    app.orbitControlsOuter.maxZoom = 4.658990676380596\r\n\r\n    app.smvDragControls = new SMVDragControls(\r\n        app.camera, app.renderer.domElement)\r\n    app.smvDragControls.enabled = false\r\n    app.smvDragControls.onHeadingChange = headingRad => {\r\n        app.currentHeadingRad = headingRad\r\n    }\r\n\r\n    ///////////////////////// Utility Setup /////////////////////////\r\n\r\n    app.rayCaster = new THREE.Raycaster()\r\n    app.mousePointer = new THREE.Vector2()\r\n\r\n    app.mixers = []\r\n\r\n    app.clock = new THREE.Clock()\r\n\r\n    ///////////////////////// Animation Render Setup /////////////////////////\r\n\r\n    const animate = () => {\r\n        requestAnimationFrame(animate)\r\n\r\n        if (!app.isGroundView || app.isSkySphereView) {\r\n            app.orbitControlsOuter.update()\r\n        }\r\n\r\n        const delta = app.clock.getDelta()\r\n\r\n        for (const i of app.mixers) {\r\n            i.update(delta)\r\n        }\r\n\r\n        app.renderer.render(\r\n            app.scene,\r\n            !app.isGroundView || app.isSkySphereView\r\n                ? app.cameraOuter\r\n                : app.camera)\r\n    }\r\n\r\n    animate()\r\n\r\n    ///////////////////////// Event Setup /////////////////////////\r\n\r\n    window.onresize = () => {\r\n        app.canvasWidth = window.innerWidth\r\n        app.canvasHeight = window.innerHeight\r\n\r\n        app.renderer.setSize(app.canvasWidth, app.canvasHeight)\r\n        app.camera.aspect = app.canvasWidth / app.canvasHeight\r\n        app.camera.updateProjectionMatrix()\r\n\r\n        app.cameraOuter.top =\r\n            cameraOuterHorizontalSize * app.canvasHeight / app.canvasWidth\r\n        app.cameraOuter.bottom =\r\n            -cameraOuterHorizontalSize * app.canvasHeight / app.canvasWidth\r\n        app.cameraOuter.updateProjectionMatrix()\r\n    }\r\n\r\n    window.onmousemove = (e) => {\r\n        // do not pick up lat when in ground view, including animation\r\n        if (app.isGroundView) {\r\n            return\r\n        }\r\n\r\n        app.mousePointer.x = (e.clientX / window.innerWidth) * 2 - 1\r\n        app.mousePointer.y = - (e.clientY / window.innerHeight) * 2 + 1\r\n\r\n        app.rayCaster.setFromCamera(app.mousePointer, app.cameraOuter)\r\n\r\n        if (app.earthMesh) {\r\n            const intersects = app.rayCaster.intersectObjects(\r\n                app.earthMesh.children, false)\r\n            if (intersects.length > 0) {\r\n                const latRad = Math.asin(intersects[0].point.y / earthRadius)\r\n\r\n                app.latDegFixed1 = parseFloat(toDeg(latRad).toFixed(1))\r\n\r\n                // overwrite the fixed value updated by the watch function \r\n                // with the precise value\r\n                app.latRad = latRad\r\n\r\n                app.isMouseOnEarth = true\r\n            }\r\n            else {\r\n                app.isMouseOnEarth = false\r\n            }\r\n        }\r\n    }\r\n\r\n    window.ondblclick = () => {\r\n        if (app.isMouseOnEarth) {\r\n            changeToGroundView(app)\r\n        }\r\n    }\r\n\r\n    app.orbitControlsOuter.addEventListener(\"change\", () => {\r\n        if (!app.isGroundView) {\r\n            updateSprites(app.cameraOuter, app.latData.children[1].children)\r\n        }\r\n\r\n        if (app.isSkySphereView) {\r\n            const angleRad =\r\n                Math.acos(\r\n                    -app.cameraOuter.position.x\r\n                    / Math.sqrt(\r\n                        app.cameraOuter.position.x ** 2\r\n                        + app.cameraOuter.position.z ** 2))\r\n\r\n            app.currentHeadingRad =\r\n                app.cameraOuter.position.z > 0\r\n                ? (Math.PI - angleRad)\r\n                : (Math.PI + angleRad)\r\n        }\r\n    })\r\n}\r\n\r\nexport { initWebGLData, setUpWebGL }","function getHeadingWord(currentHeadingRoundedDeg) {\r\n    if (currentHeadingRoundedDeg == 0) {\r\n        return \"北\"\r\n    }\r\n    else if (0 < currentHeadingRoundedDeg\r\n        && currentHeadingRoundedDeg < 90) {\r\n        return \"东北\"\r\n    }\r\n    else if (currentHeadingRoundedDeg == 90) {\r\n        return \"东\"\r\n    }\r\n    else if (90 < currentHeadingRoundedDeg\r\n        && currentHeadingRoundedDeg < 180) {\r\n        return \"东南\"\r\n    }\r\n    else if (currentHeadingRoundedDeg == 180) {\r\n        return \"南\"\r\n    }\r\n    else if (180 < currentHeadingRoundedDeg\r\n        && currentHeadingRoundedDeg < 270) {\r\n        return \"西南\"\r\n    }\r\n    else if (currentHeadingRoundedDeg == 270) {\r\n        return \"西\"\r\n    }\r\n    else {\r\n        return \"西北\"\r\n    }\r\n}\r\n\r\nfunction convertToLocalTime(timeMinutes) {\r\n    const hourDecimal = timeMinutes / 60\r\n\r\n    const hour = parseInt(hourDecimal)\r\n    const minute = Math.round(60 * (hourDecimal - hour))\r\n\r\n    const minuteZeroed = minute < 10 ? `0${minute}` : `${minute}`\r\n\r\n    return `${hour}:${minuteZeroed}`\r\n}\r\n\r\nexport { getHeadingWord, convertToLocalTime }","<template>\n  <label\n    class=\"lbl-compass-word\"\n    :style=\"{\n      color: textcolor,\n      transform:\n        'translate(' + translatedata.x + 'px,' + translatedata.y + 'px)',\n    }\">{{ word }}</label>\n</template>\n\n<script>\nexport default {\n  props: {\n    word: {\n      type: String,\n      required: true,\n    },\n    translatedata: {\n      type: Object,\n      required: true,\n    },\n    textcolor: {\n      type: String,\n      required: true,\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.lbl-compass-word {\n  position: absolute;\n  left: 0;\n  top: 0;\n\n  font-size: 25px;\n  font-weight: bold;\n}\n</style>\n","import { render } from \"./CompassWord.vue?vue&type=template&id=04accc72&scoped=true\"\nimport script from \"./CompassWord.vue?vue&type=script&lang=js\"\nexport * from \"./CompassWord.vue?vue&type=script&lang=js\"\n\nimport \"./CompassWord.vue?vue&type=style&index=0&id=04accc72&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\ErnestsProjects\\\\SunMotionVisualization\\\\sun-motion-visualization\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-04accc72\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=237386ee&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=237386ee&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\ErnestsProjects\\\\SunMotionVisualization\\\\sun-motion-visualization\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-237386ee\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('body')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksun_motion_visualization\"] = self[\"webpackChunksun_motion_visualization\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(1079); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createElementVNode","class","style","d","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_26","_hoisted_27","_hoisted_29","src","_imports_0","draggable","_createElementBlock","$data","onDblclick","_hoisted_1","_hoisted_4","_toDisplayString","Math","abs","onClick","$options","type","min","max","step","$event","_createVNode","_Transition","name","_hoisted_9","_hoisted_13","_hoisted_17","toFixed","t","viewBox","version","xmlns","width","height","_hoisted_31","_imports_1","transform","_component_compass_word","word","textcolor","translatedata","_hoisted_37","_hoisted_39","_hoisted_41","_hoisted_43","_hoisted_45","_hoisted_47","_hoisted_49","_hoisted_50","href","_hoisted_52","_hoisted_53","_hoisted_55","_hoisted_57","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_64","isMobilePhoneBrowser","uaLowerCase","navigator","userAgent","toLowerCase","includes","earthRadius","hCamera","hRiseSetLine","skySphereRadius","sunLightDistanceScale","sunTrackDistanceScale","modelPath","cameraOuterHorizontalSize","autoPlayIntervalMs","textureRepeatCount","wordCenterCircleRadius","divSize","labelWidth","labelHeight","toDeg","rad","PI","toRad","deg","floatEps","halfPi","updateSprites","camera","sprites","posScales","i","camX","position","x","camZ","z","z0","sqrt","targetX","cos","smvLatRad","targetZ","targetY","sin","smvSide","smvLatType","y","calculateSunPosition","latRad","timeMinutes","subSolarPointLatDeg","s","l","sinAlpha","cosAlpha","cosTheta","isNoonOrMidnight","xc","yc","tan","calculateSunRiseSetPosition","sunriseY","sunriseZ","sunsetY","sunsetZ","calculateCompassWordTranslates","currentHeadingRad","translates","rotationOffsetsRad","targetRotationRad","targetTranslateX","targetTranslateY","generateLatLine","latDeg","color","isDashed","curve","THREE","geometry","setFromPoints","getPoints","material","rotateX","translate","dashSize","gapSize","computeLineDistances","generateLatSprite","latType","textureName","side","scaleXToY","texture","load","spriteMaterial","map","sprite","scale","set","generateLatData","latGroup","spriteGroup","lats","latsForSprites","colors","spriteTextureNames","scaleXToYs","add","generateSunTrackLine","addRiseSet","pointCount","lineColor","points","pointPosition","push","trackLine","riseSetPosition","rsGeometry","rsMaterial","SMVDragControls","constructor","domElement","this","moveScale","enabled","fovScale","maxFov","minFov","onHeadingChange","undefined","_isMouseDown","_previousPageX","_previousPageY","addEventListener","e","deltaY","fov","updateProjectionMatrix","pageX","pageY","movementX","movementY","scaledMoveX","rotation","scaledMoveY","correctedHeadingRad","showCompass","duration","completed","gsap","opacity","ease","Power1","onComplete","hideCompass","showAbout","hideAbout","showGroundPlane","hideGroundPlane","changeToGroundView","app","isGroundView","orbitControlsOuter","latData","visible","sunLight","children","groundPlaneMesh","updateSunPosition","previousCameraZoom","cameraOuter","zoom","previousCameraPosition","clone","previousCameraQuaternion","quaternion","cameraPositionTrack","cameraCopy","lookAt","cameraQuaternionTrack","w","cameraClip","mixerCamera","cameraAction","clipAction","loop","action","stop","setRotationFromQuaternion","sunTrackLineGroup","earthMesh","arrowMesh","isGroundControlsShow","smvDragControls","scene","background","sceneBackgroundColor","intensity","ambientLight","mixers","play","ANIMATIONS","switchGroundView","isSkySphereView","littleSunMesh","arrowBigMesh","skyCircleLine","skySphereUMesh","skySphereLMesh","exitGroundView","sceneBackgroundTexture","windowIntervalHandlerNumber","window","clearInterval","calculatedSunPosition","angleWithNormalRad","acos","solarAltitudeAngleRad","solarAltitudeAngleDeg","updateSunTrackLine","initWebGLData","canvasWidth","canvasHeight","renderer","rayCaster","mousePointer","clock","isMouseOnEarth","setUpWebGL","innerWidth","innerHeight","alpha","textureLoader","setSize","document","body","append","loader","FBXLoader","obj","shininess","groundPlaneGeometry","detailTexture","wrapS","wrapT","repeat","groundMaterial","transparent","littleSunGeometry","littleSunMaterial","skyCircleCurve","skyCircleGeometry","skyCircleMaterial","skySphereUGeometry","skySphereLGeometry","skySphereUMaterial","skySphereLMaterial","textureFlare0","textureFlare3","lensflare","Lensflare","addElement","LensflareElement","OrbitControls","enableDamping","dampingFactor","minZoom","maxZoom","headingRad","animate","requestAnimationFrame","update","delta","getDelta","render","onresize","aspect","top","bottom","onmousemove","clientX","clientY","setFromCamera","intersects","intersectObjects","length","asin","point","latDegFixed1","parseFloat","ondblclick","angleRad","getHeadingWord","currentHeadingRoundedDeg","convertToLocalTime","hourDecimal","hour","parseInt","minute","round","minuteZeroed","$props","props","String","required","Object","__exports__","data","title","isAboutShow","isControlsWrapperFolded","mounted","SC","onclick","watch","newVal","sunPositionParams","oldVal","computed","localTime","compassRotationRad","compassWordTranslates","headingRounded","currentHeadingWord","methods","adjLatDegFixed1","mode","adjSubSolarPointLatDeg","adjLocalTime","switchAutoPlay","setInterval","foldControlsWrapper","unfoldControlsWrapper","components","CompassWord","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","key","splice","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}